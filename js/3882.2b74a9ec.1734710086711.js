"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[3882],{33882:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var a=s(23166),r=s(97582),i=s(89445),o=s(89334),l=s(49053);let p=class extends((0,i.Wr)(o.Z)){constructor(...t){super(...t),(0,a.Z)(this,"updateRecipients",void 0),(0,a.Z)(this,"nextStage",void 0),(0,a.Z)(this,"cancelProcessing",void 0),(0,a.Z)(this,"dragOver",!1),(0,a.Z)(this,"file",null),(0,a.Z)(this,"parsingError",!1)}dragover(t){t.preventDefault(),this.dragOver=!0}dragleave(t){t.preventDefault(),this.dragOver=!1}drop(t){t.preventDefault(),this.dragOver=!1;const e=t.dataTransfer.files[0];/(\.csv)$/i.exec(e.name)?(this.$refs.file.files=t.dataTransfer.files,this.uploadFile(this.$refs.file.files[0])):this.parsingError=!0}onRestartClick(){this.cancelProcessing(),this.parsingError=!1,this.$refs.file=null}onInputChanged(t){this.uploadFile(t.target.files[0])}async uploadFile(t){this.updateRecipients(t).then((()=>{this.nextStage()})).catch((t=>{console.log(t),this.parsingError=!0}))}};(0,r.gn)([l.aD.routeAssets.updateRecipients],p.prototype,"updateRecipients",void 0),(0,r.gn)([l.aD.routeAssets.processingNextStage],p.prototype,"nextStage",void 0),(0,r.gn)([l.aD.routeAssets.cancelProcessing],p.prototype,"cancelProcessing",void 0),p=(0,r.gn)([(0,i.wA)({components:{}})],p);var n=p,d=(0,s(1001).Z)(n,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.parsingError?e("div",{staticClass:"container route-assets-upload-template"},[e("div",{staticClass:"route-assets__page-header-title"},[t._v(" "+t._s(t.t("adar.routeAssets.stages.uploadTemplate.parcingError.title"))+" ")]),e("div",{staticClass:"route-assets__page-header-description"},[t._v(" "+t._s(t.t("adar.routeAssets.stages.uploadTemplate.parcingError.description"))+" ")]),e("s-button",{staticClass:"s-typography-button--big restart-button",attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.onRestartClick.apply(null,arguments)}}},[t._v(" "+t._s(t.t("adar.routeAssets.stages.uploadTemplate.parcingError.buttonTitle"))+" ")])],1):e("div",{staticClass:"container route-assets-upload-template"},[e("div",{staticClass:"route-assets__page-header-title"},[t._v(t._s(t.t("adar.routeAssets.stages.uploadTemplate.title")))]),e("div",{staticClass:"route-assets__page-header-description"},[t._v(" "+t._s(t.t("adar.routeAssets.stages.uploadTemplate.description"))+" ")]),e("div",{staticClass:"dropping-area",class:{"drag-over":t.dragOver},on:{dragover:t.dragover,dragleave:t.dragleave,drop:t.drop}},[e("div",[e("s-icon",{staticClass:"icon-divider",attrs:{name:"arrows-arrow-top-24"}})],1),e("p",{staticClass:"dropping-area__description"},[t._v(t._s(t.t("adar.routeAssets.stages.uploadTemplate.instruction")))]),e("p",[t._v(t._s(t.t("adar.routeAssets.stages.uploadTemplate.typesInfo")))]),e("div",[e("label",{staticClass:"file-upload s-typography-button--big route-assets-upload-template__button el-button el-tooltip button el-button--primary el-button--medium neumorphic s-medium s-border-radius-small s-primary"},[e("input",{ref:"file",attrs:{type:"file","aria-label":"false",accept:".csv"},on:{change:t.onInputChanged}}),t._v(" "+t._s(t.t("adar.routeAssets.stages.uploadTemplate.uploadButtonTitle"))+" ")])])]),e("p",{staticClass:"route-assets-upload-template__label"},[t._v(" "+t._s(t.t("adar.routeAssets.stages.uploadTemplate.templateHelp"))+" "),e("a",{staticClass:"route-assets__ref",attrs:{href:"/adar/template.csv",download:""}},[t._v(t._s(t.t("adar.routeAssets.stages.uploadTemplate.download")))])]),e("input",{ref:"file",attrs:{type:"file",hidden:"",accept:".csv"},on:{change:t.onInputChanged}})])}),[],!1,null,"5e716084",null),u=d.exports}}]);
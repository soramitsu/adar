"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[3002],{23002:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var a=s(23166),r=s(97582),n=s(86424),i=s(73318),l=s(89445),o=s(45548),c=s(89334),u=s(49053),d=s(50042);let h=class extends((0,l.Wr)(c.Z,n.tA.DialogMixin,o.Z)){constructor(...e){super(...e),(0,a.Z)(this,"displayRegions",void 0),(0,a.Z)(this,"countriesObject",{})}get countries(){return Object.entries(this.countriesObject).map((([e,t])=>{const s=this.getFlag(e),a=this.formatCountryName(e,t.name);return{key:e,name:t.name,dialCode:t.dial_code,flag:s,translatedName:a}})).sort(((e,t)=>e.translatedName<t.translatedName?-1:e.translatedName>t.translatedName?1:0))}get filteredCountries(){const e=this.countries;if(this.query){const t=this.query.toLowerCase().trim();return e.filter((e=>e.dialCode.includes(t)||e.name.toLowerCase().includes(t)||e.translatedName.toLowerCase().includes(t)))}return e}getFlag(e){try{return(0,i.HL)(e)}catch{return""}}formatCountryName(e,t){try{const s=e.toUpperCase();if(!this.displayRegions)return t;return this.displayRegions.of(s)??t}catch(e){return console.warn("Unsupported format of SORA Card Phone Country",e),t}}async mounted(){this.countriesObject=await(0,d.dX)()}async handleVisibleChangeToFocusSearch(e){await this.$nextTick(),e&&this.clearAndFocusSearch()}selectCountry(e){this.handleClearSearch(),this.$emit("select",e),this.closeDialog()}};(0,r.gn)([u.SB.settings.displayRegions],h.prototype,"displayRegions",void 0),(0,r.gn)([(0,l.RL)("visible")],h.prototype,"handleVisibleChangeToFocusSearch",null),h=(0,r.gn)([(0,l.wA)({components:{DialogBase:n.wx.DialogBase,SearchInput:n.wx.SearchInput}})],h);var p=h,C=(0,s(1001).Z)(p,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("dialog-base",{staticClass:"select-country-dialog",attrs:{visible:e.isVisible,title:e.t("card.selectCountryText")},on:{"update:visible":function(t){e.isVisible=t}}},[t("search-input",{ref:"search",staticClass:"select-country__search",attrs:{autofocus:"",placeholder:e.t("card.filterCountries")},on:{clear:e.handleClearSearch},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),t("s-scrollbar",{staticClass:"select-country__scrollbar"},[t("div",{staticClass:"select-country__list"},e._l(e.filteredCountries,(function(s){return t("div",{directives:[{name:"button",rawName:"v-button"}],key:s.key,staticClass:"p1 select-country__item s-flex",on:{click:function(t){return e.selectCountry(s)}}},[t("span",{staticClass:"flags flag-emodji"},[e._v(e._s(s.flag))]),t("span",{staticClass:"text"},[t("p",{staticClass:"p1 text__name"},[e._v(e._s(s.translatedName))]),t("p",{staticClass:"p3 text__name"},[e._v(e._s(s.name))])]),t("span",{staticClass:"p1 code"},[e._v(e._s(s.dialCode))])])})),0)])],1)}),[],!1,null,"457eb0c0",null).exports}}]);
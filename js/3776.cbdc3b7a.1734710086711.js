"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[3776],{3776:function(a,e,t){t.r(e),t.d(e,{default:function(){return C}});var s=t(23166),o=(t(70560),t(97582)),i=t(86424),l=t(89445),r=t(89334),n=t(68282),d=t(69781),c=t(49053),g=t(50961),u=t(46697),p=t(81101),k=t(19316),v=t(93838);let m=class extends((0,l.Wr)(p.Z,r.Z)){constructor(...a){super(...a),(0,s.Z)(this,"validators",void 0),(0,s.Z)(this,"activeCollapseItems",[]),(0,s.Z)(this,"soraStaking",v.GP),(0,s.Z)(this,"SoraStakingPageNames",v.Ai)}updateActiveCollapseItems(a){this.activeCollapseItems=a}get selectedDerivedPool(){return this.selectedPool?this.prepareDerivedPoolData(this.selectedPool,this.selectedAccountPool):null}get tokensData(){return[...Object.entries(this.pools).reduce(((a,[e,t])=>{const s=this.demeterAssetsData[e];if(!s)return a;const o=this.getDerivedPools(t?.[e]).map((a=>this.prepareDerivedPoolData(a.pool,a.accountPool)));return o.length?(a.push({asset:s,items:o}),a):a}),[])].sort(((a,e)=>(0,g.Rw)(a.asset,e.asset)))}};(0,o.gn)([c.SB.staking.validatorsInfo],m.prototype,"validators",void 0),m=(0,o.gn)([(0,l.wA)({components:{GenericPageHeader:(0,d.kF)(n.z8.GenericPageHeader),PoolCard:(0,k.Y)(u.o.PoolCard),DemeterStatusBadge:(0,k.Y)(u.o.StatusBadge),SoraStatusBadge:(0,k.qU)(v.Jh.StatusBadge),StakeDialog:(0,k.Y)(u.o.StakeDialog),ClaimDialog:(0,k.Y)(u.o.ClaimDialog),CalculatorDialog:(0,k.Y)(u.o.CalculatorDialog),TokenLogo:i.wx.TokenLogo}})],m);var h=m,C=(0,t(1001).Z)(h,(function(){var a=this,e=a._self._c;a._self._setupProxy;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:a.parentLoading,expression:"parentLoading"}],staticClass:"container"},[e("generic-page-header",{attrs:{title:a.t("pageTitle.Staking")}}),a.tokensData.length||a.soraStaking?a._e():e("s-card",{staticClass:"staking-empty-card",attrs:{shadow:"always",size:"big",primary:""}},[a._v(" "+a._s(a.t("demeterFarming.staking.stopped"))+" ")]),e("router-link",{staticClass:"staking-sora-link",attrs:{to:{name:a.SoraStakingPageNames.Overview}}},[e("s-card",{staticClass:"staking-sora-card"},[e("token-logo",{staticClass:"token-logo",attrs:{token:a.soraStaking.asset,size:"medium"}}),e("div",[e("h5",{staticClass:"staking-info-subtitle"},[a._v("sora staking")]),e("h3",{staticClass:"staking-info-title"},[a._v(a._s(a.soraStaking.asset.symbol))]),e("div",{directives:[{name:"show",rawName:"v-show",value:!a.isActiveCollapseItem("sora",a.activeCollapseItems),expression:"!isActiveCollapseItem('sora', activeCollapseItems)"}],staticClass:"s-flex staking-info-badges"},[e("sora-status-badge")],1)]),e("s-icon",{staticClass:"staking-sora-arrow",attrs:{name:"arrows-chevron-right-rounded-24"}})],1)],1),a.tokensData.length?e("span",{staticClass:"staking-sora-separator"}):a._e(),e("s-collapse",{staticClass:"demeter-staking-list",on:{change:a.updateActiveCollapseItems}},a._l(a.tokensData,(function(t){return e("s-collapse-item",{key:t.asset.address,staticClass:"staking-info",attrs:{name:t.asset.address},scopedSlots:a._u([{key:"title",fn:function(){return[e("token-logo",{staticClass:"token-logo",attrs:{token:t.asset,size:"medium"}}),e("div",[e("h3",{staticClass:"staking-info-title"},[a._v(a._s(t.asset.symbol))]),e("div",{directives:[{name:"show",rawName:"v-show",value:!a.isActiveCollapseItem(t.asset.address,a.activeCollapseItems),expression:"!isActiveCollapseItem(token.asset.address, activeCollapseItems)"}],staticClass:"s-flex staking-info-badges"},a._l(t.items,(function(t){return e("demeter-status-badge",{key:t.pool.rewardAsset,staticClass:"staking-info-badge",attrs:{pool:t.pool,"account-pool":t.accountPool,"pool-asset":t.poolAsset,"reward-asset":t.rewardAsset,apr:t.apr},on:{add:function(e){return a.changePoolStake(e,!0)}}})})),1)])]},proxy:!0}],null,!0)},[a.isActiveCollapseItem(t.asset.address,a.activeCollapseItems)?a._l(t.items,(function(t){return e("pool-card",{key:t.pool.rewardAsset,staticClass:"staking-info-card",attrs:{pool:t.pool,"account-pool":t.accountPool,"base-asset":t.baseAsset,"pool-asset":t.poolAsset,"reward-asset":t.rewardAsset,apr:t.apr,tvl:t.tvl,"show-balance":""},on:{add:function(e){return a.changePoolStake(e,!0)},remove:function(e){return a.changePoolStake(e,!1)},claim:a.claimPoolRewards,calculator:a.showPoolCalculator}})})):a._e()],2)})),1),e("stake-dialog",a._b({attrs:{visible:a.showStakeDialog,"is-adding":a.isAddingStake,"parent-loading":a.parentLoading||a.loading},on:{"update:visible":function(e){a.showStakeDialog=e},add:function(e){return a.handleStakeAction(e,a.deposit)},remove:function(e){return a.handleStakeAction(e,a.withdraw)}}},"stake-dialog",a.selectedDerivedPool,!1)),e("claim-dialog",a._b({attrs:{visible:a.showClaimDialog,"parent-loading":a.parentLoading||a.loading},on:{"update:visible":function(e){a.showClaimDialog=e},confirm:a.handleClaimRewards}},"claim-dialog",a.selectedDerivedPool,!1)),e("calculator-dialog",a._b({attrs:{visible:a.showCalculatorDialog},on:{"update:visible":function(e){a.showCalculatorDialog=e}}},"calculator-dialog",a.selectedDerivedPool,!1))],1)}),[],!1,null,"6ff6d6e0",null).exports}}]);
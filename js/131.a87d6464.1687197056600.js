"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[131],{60131:function(e,t,o){o.r(t),o.d(t,{default:function(){return v}});var i=o(60760),a=o(70655),s=o(53545),l=o(8755),r=o(57325),d=o(44973),n=o(52859),c=o(80710),u=o(16546),p=o(74614);let g=class extends((0,s.Wr)(r.Z,l.tA.TransactionMixin)){constructor(...e){super(...e),(0,i.Z)(this,"accountLiquidity",void 0)}get selectedAccountLiquidity(){return this.accountLiquidity.find((e=>e.firstAddress===this.baseAsset&&e.secondAddress===this.poolAsset))??null}get selectedDerivedPool(){return this.selectedPool?this.prepareDerivedPoolData(this.selectedPool,this.selectedAccountPool,this.selectedAccountLiquidity):null}get farmingPoolsByLiquidities(){return this.accountLiquidity.reduce(((e,t)=>{const o=this.getLiquidityKey(t),i=this.getDerivedPools(this.pools[t.firstAddress]?.[t.secondAddress]);return e[o]=i.map((e=>this.prepareDerivedPoolData(e.pool,e.accountPool,t))),e}),{})}getLiquidityFarmingPools(e){return this.farmingPoolsByLiquidities[this.getLiquidityKey(e)]??[]}getLiquidityKey(e){return[e.firstAddress,e.secondAddress].join(";")}};(0,a.__decorate)([p.SB.pool.accountLiquidity],g.prototype,"accountLiquidity",void 0),g=(0,a.__decorate)([(0,s.wA)({inheritAttrs:!1,components:{PoolBase:(0,c.JE)(u.sn.Pool),PoolCard:(0,d.w)(n.J.PoolCard),StatusBadge:(0,d.w)(n.J.StatusBadge),StakeDialog:(0,d.w)(n.J.StakeDialog),ClaimDialog:(0,d.w)(n.J.ClaimDialog),CalculatorDialog:(0,d.w)(n.J.CalculatorDialog)}})],g);var h=g,v=(0,o(1001).Z)(h,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("pool-base",e._g(e._b({scopedSlots:e._u([{key:"title-append",fn:function(t){var i=t.liquidity,a=t.activeCollapseItems;return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.isActiveCollapseItem(i.address,a),expression:"!isActiveCollapseItem(liquidity.address, activeCollapseItems)"}],staticClass:"s-flex farming-pool-badges"},e._l(e.getLiquidityFarmingPools(i),(function(t,a){return o("status-badge",{key:t.pool.poolAsset+"-"+t.pool.rewardAsset+"-"+a,staticClass:"farming-pool-badge",attrs:{liquidity:i,pool:t.pool,"account-pool":t.accountPool,"pool-asset":t.poolAsset,"reward-asset":t.rewardAsset,apr:t.apr},on:{add:function(t){return e.changePoolStake(t,!0)}}})})),1)]}},{key:"append",fn:function(t){var i=t.liquidity,a=t.activeCollapseItems;return[e.isActiveCollapseItem(i.address,a)?e._l(e.getLiquidityFarmingPools(i),(function(t,a){return o("pool-card",{key:t.pool.poolAsset+"-"+t.pool.rewardAsset+"-"+a,staticClass:"demeter-pool",attrs:{liquidity:i,pool:t.pool,"account-pool":t.accountPool,"base-asset":t.baseAsset,"pool-asset":t.poolAsset,"reward-asset":t.rewardAsset,apr:t.apr,tvl:t.tvl,border:""},on:{add:function(t){return e.changePoolStake(t,!0)},remove:function(t){return e.changePoolStake(t,!1)},claim:e.claimPoolRewards,calculator:e.showPoolCalculator}})})):e._e()]}}])},"pool-base",Object.assign({},{parentLoading:e.parentLoading},e.$attrs),!1),e.$listeners)),o("stake-dialog",e._b({attrs:{visible:e.showStakeDialog,"is-adding":e.isAddingStake,liquidity:e.selectedAccountLiquidity,"parent-loading":e.parentLoading||e.loading},on:{"update:visible":function(t){e.showStakeDialog=t},add:function(t){return e.handleStakeAction(t,e.deposit)},remove:function(t){return e.handleStakeAction(t,e.withdraw)}}},"stake-dialog",e.selectedDerivedPool,!1)),o("claim-dialog",e._b({attrs:{visible:e.showClaimDialog,"parent-loading":e.parentLoading||e.loading},on:{"update:visible":function(t){e.showClaimDialog=t},confirm:e.handleClaimRewards}},"claim-dialog",e.selectedDerivedPool,!1)),o("calculator-dialog",e._b({attrs:{visible:e.showCalculatorDialog,liquidity:e.selectedAccountLiquidity},on:{"update:visible":function(t){e.showCalculatorDialog=t}}},"calculator-dialog",e.selectedDerivedPool,!1))],1)}),[],!1,null,"6f159300",null).exports}}]);
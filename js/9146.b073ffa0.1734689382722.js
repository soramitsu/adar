"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[9146],{59146:function(a,s,t){t.r(s),t.d(s,{default:function(){return b}});var o,i=t(23166),e=(t(70560),t(97582)),n=t(69826),r=t(86424),c=t(89445),d=t(89334),l=t(68282),g=t(69781),u=t(49053),p=t(50042);!function(a){a[a.X1=0]="X1",a[a.Bridge=1]="Bridge",a[a.Paywings=2]="Paywings"}(o||(o={}));let _=class extends((0,c.Wr)(r.tA.LoadingMixin,d.Z)){constructor(...a){super(...a),(0,i.Z)(this,"buyOptions",[{type:o.X1,text:"card.depositX1Btn",button:"primary"},{type:o.Bridge,text:"card.bridgeTokensBtn",button:"secondary"}]),(0,i.Z)(this,"euroBalance",void 0),(0,i.Z)(this,"xorToDeposit",void 0),(0,i.Z)(this,"wasEuroBalanceLoaded",void 0),(0,i.Z)(this,"isEuroBalanceEnough",void 0),(0,i.Z)(this,"isLoggedIn",void 0),(0,i.Z)(this,"showX1Dialog",!1),(0,i.Z)(this,"showPaywingsDialog",!1),(0,i.Z)(this,"showListDialog",!1)}get freeStartUsingDesc(){return this.euroBalance?this.t("card.freeStartDesc",{value:this.balanceIndicatorAmount}):""}get buttonText(){return this.isLoggedIn?"card.getSoraCardBtn":"connectWalletText"}get balanceIndicatorAmount(){const a=parseInt(this.euroBalance,10);return`<span class="sora-card__balance-indicator-text--bold">â‚¬${this.isEuroBalanceEnough?"100":a}/100</span>`}getIconClass(){return this.isEuroBalanceEnough?"sora-card__icon--checked":""}get btnLoading(){return this.isLoggedIn?this.loading||!this.wasEuroBalanceLoaded:this.loading}openX1(){this.showX1Dialog=!0}issueCardByPaywings(){this.showPaywingsDialog=!0}bridgeTokens(){this.isEuroBalanceEnough||g.ZP.push({name:l.sn.Bridge,params:{address:n.XOR.address,amount:this.xorToDeposit.toString(),isIncoming:"true"}})}openList(){this.showListDialog=!0}buyTokens(a){switch(a){case o.X1:this.openX1();break;case o.Bridge:this.bridgeTokens();break;case o.Paywings:this.issueCardByPaywings()}}handleConfirm(){this.isLoggedIn?this.$emit("confirm-apply"):g.ZP.push({name:l.sn.Wallet})}loginUser(){(0,p.G5)();this.$emit("confirm-apply",!0)}mounted(){(0,p.ZR)()}};(0,e.gn)([u.SB.soraCard.euroBalance],_.prototype,"euroBalance",void 0),(0,e.gn)([u.SB.soraCard.xorToDeposit],_.prototype,"xorToDeposit",void 0),(0,e.gn)([u.SB.soraCard.wasEuroBalanceLoaded],_.prototype,"wasEuroBalanceLoaded",void 0),(0,e.gn)([u.Yn.soraCard.isEuroBalanceEnough],_.prototype,"isEuroBalanceEnough",void 0),(0,e.gn)([u.Yn.wallet.account.isLoggedIn],_.prototype,"isLoggedIn",void 0),_=(0,e.gn)([(0,c.wA)({components:{PaywingsDialog:(0,g.kF)(l.z8.PaywingsDialog),TosDialog:(0,g.kF)(l.z8.ToSDialog)}})],_);var h=_,b=(0,t(1001).Z)(h,(function(){var a=this,s=a._self._c;a._self._setupProxy;return s("div",{staticClass:"container sora-card"},[s("s-image",{staticClass:"unselectable sora-card__image",attrs:{src:"card/sora-card.png",lazy:"",fit:"cover",draggable:"false"}}),s("div",{staticClass:"sora-card__intro"},[s("h3",{staticClass:"sora-card__intro-title"},[a._v(a._s(a.t("card.getSoraCardTitle")))]),s("span",{staticClass:"sora-card__intro-info"},[a._v(" "+a._s(a.t("card.getSoraCardDesc"))+" ")])]),a.isLoggedIn?s("div",{staticClass:"sora-card__balance-indicator"},[s("s-icon",{staticClass:"sora-card__icon--checked",attrs:{name:"basic-check-mark-24",size:"16px"}}),s("p",{staticClass:"sora-card__balance-indicator-text"},[s("span",{staticClass:"sora-card__balance-indicator-text--bold"},[a._v(a._s(a.t("card.reIssuanceFee")))])])],1):a._e(),a.wasEuroBalanceLoaded&&a.isLoggedIn?s("div",{staticClass:"sora-card__balance-indicator"},[s("s-icon",{class:a.getIconClass(),attrs:{name:"basic-check-mark-24",size:"16px"}}),s("p",{staticClass:"sora-card__balance-indicator-text",domProps:{innerHTML:a._s(a.freeStartUsingDesc)}})],1):a._e(),s("div",{staticClass:"sora-card__unsupported-countries-disclaimer"},[a._v(" "+a._s(a.t("card.unsupportedCountriesDisclaimer"))+" "),s("span",{staticClass:"sora-card__unsupported-countries-disclaimer--link",on:{click:a.openList}},[a._v(a._s(a.t("card.unsupportedCountriesLink")))])]),s("div",{directives:[{name:"loading",rawName:"v-loading",value:a.isLoggedIn&&!a.wasEuroBalanceLoaded,expression:"isLoggedIn && !wasEuroBalanceLoaded"}],staticClass:"sora-card__options"},[a.isEuroBalanceEnough||!a.isLoggedIn?s("div",{staticClass:"sora-card__options--enough-euro"},[s("s-button",{staticClass:"sora-card__btn s-typography-button--large",attrs:{type:"primary",loading:a.btnLoading},on:{click:a.handleConfirm}},[s("span",{staticClass:"text"},[a._v(" "+a._s(a.t(a.buttonText)))])])],1):s("div",{staticClass:"sora-card__options--not-enough-euro s-flex"},a._l(a.buyOptions,(function(t){return s("s-button",{key:t.type,staticClass:"sora-card__btn sora-card__btn--buy s-typography-button--large",attrs:{type:t.button,loading:a.btnLoading},on:{click:function(s){return a.buyTokens(t.type)}}},[s("span",{staticClass:"text"},[a._v(a._s(a.t(t.text)))])])})),1)]),a.isLoggedIn?s("span",{staticClass:"sora-card__user-applied",on:{click:a.loginUser}},[a._v(a._s(a.t("card.alreadyAppliedTip")))]):a._e(),s("paywings-dialog",{attrs:{visible:a.showPaywingsDialog},on:{"update:visible":function(s){a.showPaywingsDialog=s}}}),s("tos-dialog",{attrs:{visible:a.showListDialog,title:a.t("card.unsupportedCountries")},on:{"update:visible":function(s){a.showListDialog=s}}})],1)}),[],!1,null,"38268058",null).exports}}]);
"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[7769],{17769:function(t,s,e){e.r(s),e.d(s,{default:function(){return C}});var i=e(23166),o=(e(70560),e(97582)),a=e(59739),n=e(37981),r=e(86424),l=e(86860),u=e(55422),c=e(89445),d=e(89334),p=e(68282),m=e(69781),b=e(49053),k=e(25118);const v={[a.LiquiditySourceTypes.XYKPool]:"XYK Pool",[a.LiquiditySourceTypes.MulticollateralBondingCurvePool]:"TBC Pool",[a.LiquiditySourceTypes.XSTPool]:"XST Pool",[a.LiquiditySourceTypes.OrderBook]:"Order Book"};let g=class extends((0,c.Wr)(r.tA.FormattedAmountMixin,d.Z)){constructor(...t){super(...t),(0,i.Z)(this,"distribution",void 0),(0,i.Z)(this,"fromValue",void 0),(0,i.Z)(this,"toValue",void 0),(0,i.Z)(this,"getAsset",void 0),(0,i.Z)(this,"tokenFrom",void 0),(0,i.Z)(this,"tokenTo",void 0)}get swapPaths(){const t=[];return this.distribution.forEach(((s,e,i)=>{const o=[];let a=n.FPNumber.ZERO,r=n.FPNumber.ZERO;const l=this.getAsset(s[0].input),u=this.getAsset(s[0].output);s.forEach((t=>{const s=t.income,e=t.outcome,i=this.getFPNumberFiatAmountByFPNumber(s,l)??n.FPNumber.ZERO,c=this.getFPNumberFiatAmountByFPNumber(e,u)??n.FPNumber.ZERO,d=(0,k.gb)(i,c).toFixed(2);a=a.add(s),r=r.add(e),o.push({income:s.toLocaleString(),outcome:e.toLocaleString(),fee:t.fee.toLocaleString(),source:v[t.market],fiatDifference:d})})),t.push({input:l,output:u,amount:a.toLocaleString(),sources:o}),e===i.length-1&&t.push({input:u,amount:r.toLocaleString(),sources:[]})})),t}};(0,o.gn)([b.SB.swap.distribution],g.prototype,"distribution",void 0),(0,o.gn)([b.SB.swap.fromValue],g.prototype,"fromValue",void 0),(0,o.gn)([b.SB.swap.toValue],g.prototype,"toValue",void 0),(0,o.gn)([b.Yn.assets.assetDataByAddress],g.prototype,"getAsset",void 0),(0,o.gn)([b.Yn.swap.tokenFrom],g.prototype,"tokenFrom",void 0),(0,o.gn)([b.Yn.swap.tokenTo],g.prototype,"tokenTo",void 0),g=(0,o.gn)([(0,c.wA)({components:{SSkeleton:l.s,SSkeletonItem:u.L,TokenLogo:r.wx.TokenLogo,FormattedAmount:r.wx.FormattedAmount,BaseWidget:(0,m.kF)(p.z8.BaseWidget),ValueStatusWrapper:(0,m.kF)(p.z8.ValueStatusWrapper)}})],g);var h=g,C=(0,e(1001).Z)(h,(function(){var t=this,s=t._self._c;t._self._setupProxy;return s("base-widget",t._b({attrs:{title:t.t("swap.route")}},"base-widget",t.$attrs,!1),[s("s-skeleton",{attrs:{loading:!t.swapPaths.length},scopedSlots:t._u([{key:"template",fn:function(){return[s("div",{staticClass:"distribution"},[s("div",{staticClass:"distribution-step"},[s("div",{staticClass:"distribution-asset"},[t.tokenFrom?[s("token-logo",{staticClass:"distribution-asset-logo",attrs:{token:t.tokenFrom,size:"small"}}),s("span",{staticClass:"distribution-asset-amount"},[t._v(t._s(t.fromValue)+" "+t._s(t.tokenFrom.symbol))])]:t._e()],2),s("div",{staticClass:"distribution-path"},[s("span",{staticClass:"distribution-path-line"}),s("div",{staticClass:"distribution-path-sources"},[s("div",{staticClass:"distribution-path-source"},[s("div",{staticClass:"flex-cell"},[s("s-skeleton-item",{staticClass:"distribution-path-source-name",attrs:{element:"rect"}}),s("s-skeleton-item",{staticClass:"distribution-path-source-change",attrs:{element:"rect"}})],1),s("div",{staticClass:"flex-cell"},[s("s-skeleton-item",{attrs:{element:"circle"}}),s("s-skeleton-item",{attrs:{element:"rect"}}),s("s-skeleton-item",{attrs:{element:"circle"}}),s("s-skeleton-item",{attrs:{element:"rect"}})],1)])])])]),s("div",{staticClass:"distribution-step"},[s("div",{staticClass:"distribution-asset"},[t.tokenTo?[s("token-logo",{staticClass:"distribution-asset-logo",attrs:{token:t.tokenTo,size:"small"}}),s("span",{staticClass:"distribution-asset-amount"},[t._v(t._s(t.toValue)+" "+t._s(t.tokenTo.symbol))])]:t._e()],2)])])]},proxy:!0}])},[s("ul",{staticClass:"distribution"},t._l(t.swapPaths,(function({input:e,output:i,amount:o,sources:a}){return s("li",{key:e.address,staticClass:"distribution-step"},[s("div",{staticClass:"distribution-asset"},[s("token-logo",{staticClass:"distribution-asset-logo",attrs:{token:e,size:"small"}}),s("span",{staticClass:"distribution-asset-amount"},[t._v(t._s(o)+" "+t._s(e.symbol))])],1),a.length?s("div",{staticClass:"distribution-path"},[s("span",{staticClass:"distribution-path-line"}),s("div",{staticClass:"distribution-path-sources"},t._l(a,(function({source:o,income:a,outcome:n,fiatDifference:r}){return s("div",{key:o,staticClass:"distribution-path-source"},[s("div",{staticClass:"flex-cell"},[s("span",{staticClass:"distribution-path-source-name"},[t._v(t._s(o)+":")]),s("value-status-wrapper",{staticClass:"distribution-path-source-change",attrs:{value:r}},[s("formatted-amount",{attrs:{value:t.formatStringValue(r)}},[t._v("%")])],1)],1),s("div",{staticClass:"flex-cell"},[s("div",{staticClass:"flex-cell"},[s("token-logo",{attrs:{token:e,size:"mini"}}),t._v(t._s(a))],1),t._v(" â†’ "),s("div",{staticClass:"flex-cell"},[s("token-logo",{attrs:{token:i,size:"mini"}}),t._v(t._s(n))],1)])])})),0)]):t._e()])})),0)])],1)}),[],!1,null,"b92a676c",null).exports}}]);
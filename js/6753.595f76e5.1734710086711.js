"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[6753],{6753:function(t,o,e){e.r(o),e.d(o,{default:function(){return S}});var r=e(23166),s=(e(70560),e(97582)),a=e(99278),n=e(37981),i=e(86424),u=e(89445),d=e(89334),l=e(68282),c=e(69781),k=e(49053),p=e(7653);let h=class extends((0,u.Wr)(d.Z,i.tA.LoadingMixin,i.tA.FormattedAmountMixin)){constructor(...t){super(...t),(0,r.Z)(this,"orderBooks",void 0),(0,r.Z)(this,"orderBooksStats",void 0),(0,r.Z)(this,"getAsset",void 0),(0,r.Z)(this,"setCurrentOrderBook",void 0)}getTooltipText(t){switch(t){case a.OrderBookStatus.Trade:return this.t("orderBook.tooltip.bookStatus.active");case a.OrderBookStatus.PlaceAndCancel:return this.t("orderBook.tooltip.bookStatus.placeable");case a.OrderBookStatus.OnlyCancel:return this.t("orderBook.tooltip.bookStatus.cancelable");case a.OrderBookStatus.Stop:return this.t("orderBook.tooltip.bookStatus.inactive");default:return this.t("unknownErrorText")}}chooseBook(t){this.setCurrentOrderBook(t.orderBookId),this.$emit("close")}get tableItems(){return this.orderBooks?Object.entries(this.orderBooks).reduce(((t,[o,e])=>{if(!o)return t;const{base:r,quote:s}=e.orderBookId,a=(0,p.k2)(e),i=this.orderBooksStats[o]?.price??n.FPNumber.ZERO,u=this.orderBooksStats[o]?.priceChange??n.FPNumber.ZERO,d=this.orderBooksStats[o]?.volume??n.FPNumber.ZERO,l={orderBookId:e.orderBookId,baseAsset:this.getAsset(r),targetAsset:this.getAsset(s),pair:`${this.getAsset(r)?.symbol}-${this.getAsset(s)?.symbol}`,status:e.status,price:i.dp(a).toLocaleString(),priceChange:u,volume:d.toLocaleString()};return t.push(l),t}),[]):[]}calculateColor(t){return[a.OrderBookStatus.Trade,a.OrderBookStatus.PlaceAndCancel].includes(t)?"status-live":[a.OrderBookStatus.OnlyCancel,a.OrderBookStatus.Stop].includes(t)?"status-stop":void 0}mapBookStatus(t){switch(t){case a.OrderBookStatus.Trade:return this.t("orderBook.bookStatus.active");case a.OrderBookStatus.PlaceAndCancel:return this.t("orderBook.bookStatus.placeable");case a.OrderBookStatus.OnlyCancel:return this.t("orderBook.bookStatus.cancelable");case a.OrderBookStatus.Stop:return this.t("orderBook.bookStatus.inactive");default:return this.t("unknownErrorText")}}handleClickStatusTooltip(t){t?.stopPropagation()}};(0,s.gn)([k.SB.orderBook.orderBooks],h.prototype,"orderBooks",void 0),(0,s.gn)([k.SB.orderBook.orderBooksStats],h.prototype,"orderBooksStats",void 0),(0,s.gn)([k.Yn.assets.assetDataByAddress],h.prototype,"getAsset",void 0),(0,s.gn)([k.QF.orderBook.setCurrentOrderBook],h.prototype,"setCurrentOrderBook",void 0),h=(0,s.gn)([(0,u.wA)({components:{PairTokenLogo:(0,c.kF)(l.z8.PairTokenLogo),PriceChange:(0,c.kF)(l.z8.PriceChange),TokenLogo:i.wx.TokenLogo,FormattedAmount:i.wx.FormattedAmount}})],h);var B=h,f=(0,e(1001).Z)(B,(function(){var t=this,o=t._self._c;t._self._setupProxy;return o("div",{staticClass:"order-book-popover"},[o("div",{staticClass:"order-book-popover__title"},[o("span",[t._v(t._s(t.t("orderBook.tradingPair.choosePair")))]),o("s-tooltip",{attrs:{slot:"suffix","border-radius":"mini",content:t.t("orderBook.tooltip.pairsList"),placement:"top",tabindex:"-1"},slot:"suffix"},[o("s-icon",{attrs:{name:"info-16",size:"14px"}})],1)],1),o("s-table",{staticClass:"orderbook-whitelist-table",attrs:{data:t.tableItems,"highlight-current-row":!1},on:{"row-click":t.chooseBook}},[o("s-table-column",{attrs:{width:"178"},scopedSlots:t._u([{key:"header",fn:function(){return[o("span",[t._v(t._s(t.t("orderBook.tokenPair")))])]},proxy:!0},{key:"default",fn:function({row:e}){return[o("pair-token-logo",{attrs:{"first-token":e.baseAsset,"second-token":e.targetAsset,size:"small"}}),o("div",{staticClass:"book-pair"},[o("div",[t._v(t._s(e.pair))])])]}}])}),o("s-table-column",{attrs:{width:"90"},scopedSlots:t._u([{key:"header",fn:function(){return[o("span",[t._v(t._s(t.t("orderBook.price")))])]},proxy:!0},{key:"default",fn:function({row:t}){return[o("formatted-amount",{attrs:{value:t.price,fiatSign:""}})]}}])}),o("s-table-column",{attrs:{width:"110"},scopedSlots:t._u([{key:"header",fn:function(){return[o("span",[t._v(t._s(t.t("orderBook.tradingPair.volume")))])]},proxy:!0},{key:"default",fn:function({row:t}){return[o("formatted-amount",{attrs:{value:t.volume,"is-fiat-value":""}})]}}])}),o("s-table-column",{attrs:{width:"140"},scopedSlots:t._u([{key:"header",fn:function(){return[o("span",[t._v(t._s(t.t("orderBook.tradingPair.dailyChange")))])]},proxy:!0},{key:"default",fn:function({row:t}){return[o("price-change",{attrs:{value:t.priceChange}})]}}])}),o("s-table-column",{scopedSlots:t._u([{key:"header",fn:function(){return[o("span",[t._v(t._s(t.t("orderBook.tradingPair.status")))])]},proxy:!0},{key:"default",fn:function({row:e}){return[o("span",{class:t.calculateColor(e.status)},[t._v(t._s(t.mapBookStatus(e.status)))]),o("s-tooltip",{staticClass:"status-tooltip",attrs:{slot:"suffix","border-radius":"mini",content:t.getTooltipText(e.status),placement:"top",tabindex:"-1"},slot:"suffix"},[o("s-icon",{attrs:{name:"info-16",size:"14px"},nativeOn:{click:function(o){return t.handleClickStatusTooltip.apply(null,arguments)}}})],1)]}}])})],1)],1)}),[],!1,null,null,null),S=f.exports}}]);
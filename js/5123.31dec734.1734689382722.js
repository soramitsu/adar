"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[5123],{5123:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var r=s(23166),a=s(97582),i=s(86424),c=s(89445),n=s(89334),o=s(68282),d=s(49053),u=s(25825),l=s(50042);const p="card.statusPendingTitle",h="card.statusPendingText",g="time-time-24";let _=class extends((0,c.Wr)(i.tA.LoadingMixin,n.Z)){constructor(...t){super(...t),(0,r.Z)(this,"fees",void 0),(0,r.Z)(this,"attemptCounter",void 0),(0,r.Z)(this,"rejectReasons",void 0),(0,r.Z)(this,"currentStatus",void 0),(0,r.Z)(this,"setWillToPassKycAgain",void 0),(0,r.Z)(this,"getUserKycAttempt",void 0),(0,r.Z)(this,"getUserStatus",void 0),(0,r.Z)(this,"VerificationStatus",u.$Z)}get rejectedText(){if(this.currentStatus===u.$Z.Rejected&&this.rejectReasons.length){if(this.isMultipleReasons){const t=this.rejectReasons.map((t=>`<li>${t.toString()}</li>`));return`${this.t("card.statusRejectReasonMultiple")} ${t.join("")}`}return`${this.t("card.statusRejectReason")}: ${this.rejectReasons[0]}`}return this.t("card.statusRejectText")}get isMultipleReasons(){return this.rejectReasons.length>1}get retryFee(){return this.fees.retry}get freeAttemptsLeft(){return Number(this.attemptCounter.freeAttemptsLeft)}get hasFreeAttempts(){return this.attemptCounter.hasFreeAttempts}get isRejected(){return this.currentStatus===u.$Z.Rejected}get isRejectedOrPending(){return[u.$Z.Pending,u.$Z.Rejected].includes(this.currentStatus)}get titleKey(){if(!this.currentStatus)return p;switch(this.currentStatus){case u.$Z.Pending:return p;case u.$Z.Accepted:return"card.statusAcceptTitle";case u.$Z.Rejected:return"card.statusRejectTitle";default:return p}}get text(){if(!this.currentStatus)return this.t(h);switch(this.currentStatus){case u.$Z.Pending:return this.t(h);case u.$Z.Accepted:return this.t("card.statusAcceptText");case u.$Z.Rejected:return this.rejectedText;default:return this.t(h)}}get icon(){if(this.currentStatus===u.$Z.Rejected&&!this.hasFreeAttempts)return"time-time-24";switch(this.currentStatus){case u.$Z.Pending:return g;case u.$Z.Accepted:return"basic-check-marks-24";case u.$Z.Rejected:return"basic-close-24";default:return g}}get computedIconClass(){const t="sora-card__card-icon";if(this.currentStatus===u.$Z.Rejected&&!this.hasFreeAttempts)return`${t}--waiting`;switch(this.currentStatus){case u.$Z.Pending:return`${t}--waiting`;case u.$Z.Accepted:return`${t}--success`;case u.$Z.Rejected:return`${t}--reject`;default:return`${t}--waiting`}}openSupportChannel(){window.open(o.yX.soraCardSupportChannel,"_blank")}handleKycRetry(){this.setWillToPassKycAgain(!0);this.$emit("confirm-apply",!0)}async mounted(){await this.getUserStatus(),this.currentStatus===u.$Z.Rejected&&await this.getUserKycAttempt(),(0,l.ZR)()}};(0,a.gn)([d.SB.soraCard.fees],_.prototype,"fees",void 0),(0,a.gn)([d.SB.soraCard.attemptCounter],_.prototype,"attemptCounter",void 0),(0,a.gn)([d.SB.soraCard.rejectReasons],_.prototype,"rejectReasons",void 0),(0,a.gn)([d.Yn.soraCard.currentStatus],_.prototype,"currentStatus",void 0),(0,a.gn)([d.QF.soraCard.setWillToPassKycAgain],_.prototype,"setWillToPassKycAgain",void 0),(0,a.gn)([d.aD.soraCard.getUserKycAttempt],_.prototype,"getUserKycAttempt",void 0),(0,a.gn)([d.aD.soraCard.getUserStatus],_.prototype,"getUserStatus",void 0),_=(0,a.gn)([c.wA],_);var m=_,f=(0,s(1001).Z)(m,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"sora-card container"},[e("div",{staticClass:"sora-card__card"},[e("s-image",{staticClass:"unselectable sora-card__card-image",attrs:{src:"card/sora-card-front.png",lazy:"",fit:"cover",draggable:"false"}}),e("div",{staticClass:"sora-card__card-icon",class:t.computedIconClass},[e("s-icon",{staticClass:"sora-card__card-icon-element",attrs:{name:t.icon}})],1)],1),e("div",{staticClass:"sora-card__header"},[t._v(t._s(t.t(t.titleKey)))]),e("p",{staticClass:"sora-card__status-info",domProps:{innerHTML:t._s(t.text)}}),t.isRejected?e("div",{staticClass:"sora-card__rejection"},[t.freeAttemptsLeft?e("div",{staticClass:"tos__disclaimer"},[e("h4",{staticClass:"tos__disclaimer-header"},[t._v(" "+t._s(t.tc("card.rejectCount",t.freeAttemptsLeft,{count:t.freeAttemptsLeft}))+" ")]),e("p",{staticClass:"tos__disclaimer-paragraph"},[t._v(" "+t._s(t.t("card.rejectionPriceAttemptDisclaimer",{0:t.retryFee}))+" ")]),e("div",{staticClass:"tos__disclaimer-warning icon"},[e("s-icon",{attrs:{name:"notifications-alert-triangle-24",size:"28px"}})],1)]):t._e(),t.hasFreeAttempts?e("s-button",{staticClass:"sora-card__btn s-typography-button--large",attrs:{type:"primary"},on:{click:t.handleKycRetry}},[e("span",{staticClass:"text"},[t._v(t._s(t.t("card.retryKycBtn")))])]):e("div",{staticClass:"sora-card__no-more-free-kyc"},[e("h4",[t._v(t._s(t.t("card.noFreeKycTitle")))]),e("p",{staticClass:"sora-card__no-more-free-kyc-text"},[t._v(" "+t._s(t.t("card.noFreeAttemptsDesc"))+" ")])])],1):t._e(),t.isRejectedOrPending?e("div",{staticClass:"sora-card__support"},[e("s-button",{staticClass:"sora-card__btn sora-card__btn-support s-typography-button--large",on:{click:t.openSupportChannel}},[e("span",{staticClass:"text"},[t._v(t._s(t.t("card.telegramSupport")))])])],1):t._e()])}),[],!1,null,"4c6d7706",null).exports}}]);
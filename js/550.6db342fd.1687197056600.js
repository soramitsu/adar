"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[550],{40550:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=s(60760),r=s(70655),o=s(53545),i=s(32806),l=s(74614),n=s(25108);let p=class extends((0,o.Wr)(i.Z)){constructor(...e){super(...e),(0,a.Z)(this,"updateRecipients",void 0),(0,a.Z)(this,"nextStage",void 0),(0,a.Z)(this,"cancelProcessing",void 0),(0,a.Z)(this,"dragOver",!1),(0,a.Z)(this,"file",null),(0,a.Z)(this,"parsingError",!1)}dragover(e){e.preventDefault(),this.dragOver=!0}dragleave(e){e.preventDefault(),this.dragOver=!1}drop(e){e.preventDefault(),this.dragOver=!1,this.$refs.file.files=e.dataTransfer.files,this.uploadFile()}onRestartClick(){this.cancelProcessing(),this.parsingError=!1}async uploadFile(){this.updateRecipients(this.fileElement.files[0]).then((()=>{this.nextStage()})).catch((e=>{n.log(e),this.parsingError=!0}))}onBrowseButtonClick(){this.fileElement.click()}get fileElement(){return this.$refs.file}};(0,r.__decorate)([l.aD.routeAssets.updateRecipients],p.prototype,"updateRecipients",void 0),(0,r.__decorate)([l.aD.routeAssets.processingNextStage],p.prototype,"nextStage",void 0),(0,r.__decorate)([l.aD.routeAssets.cancelProcessing],p.prototype,"cancelProcessing",void 0),p=(0,r.__decorate)([(0,o.wA)({components:{}})],p);var c=p,d=(0,s(1001).Z)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.parsingError?s("div",{staticClass:"container route-assets-upload-template"},[s("div",{staticClass:"route-assets__page-header-title"},[e._v("The .csv file couldn’t be parsed.")]),s("div",{staticClass:"route-assets__page-header-description"},[e._v(" "+e._s("Please, upload new file or re-start the process.")+" ")]),s("s-button",{staticClass:"s-typography-button--big restart-button",attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.onRestartClick.apply(null,arguments)}}},[e._v(" "+e._s("RE-START PROCESS")+" ")])],1):s("div",{staticClass:"container route-assets-upload-template"},[s("div",{staticClass:"route-assets__page-header-title"},[e._v("Upload Routing Template for processing")]),s("div",{staticClass:"route-assets__page-header-description"},[e._v(" "+e._s("Upload your Process Routing Template as a .CSV file")+" ")]),s("div",{staticClass:"dropping-area",class:{"drag-over":e.dragOver},on:{dragover:e.dragover,dragleave:e.dragleave,drop:e.drop}},[s("div",[s("s-icon",{staticClass:"icon-divider",attrs:{name:"arrows-arrow-top-24"}})],1),s("p",{staticClass:"dropping-area__description"},[e._v("Drop your completed process routing template or click to upload")]),s("p",[e._v("Supported file types: CSV")]),s("div",[s("s-button",{staticClass:"s-typography-button--big route-assets-upload-template__button",attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.onBrowseButtonClick.apply(null,arguments)}}},[e._v(" "+e._s("Upload")+" ")])],1)]),e._m(0),s("input",{ref:"file",attrs:{type:"file",hidden:"",accept:".csv"},on:{change:e.uploadFile}})])}),[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"route-assets-upload-template__label"},[e._v(" Don’t have a template? "),s("a",{staticClass:"route-assets__ref",attrs:{href:"/adar/template.csv",download:""}},[e._v("Download")])])}],!1,null,"5be46301",null),u=d.exports}}]);
"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[8405],{68405:function(e,t,s){s.r(t),s.d(t,{default:function(){return W}});var i=s(23166),r=(s(70560),s(97582)),a=s(37981),o=s(36685),n=s(86424),h=s(23415),c=s(25387),l=s.n(c),p=s(52151),d=s.n(p),u=s(4588),m=s.n(u),f=s(89445),g=s(19945),y=s(67805),S=s(68282),b=s(20735),P=s(1889),v=s(79934);const{IndexerType:x}=n.WALLET_CONSTS,A=e=>{const t=1e3*+e.timestamp,s=(e=>{const{open:t,close:s,low:i,high:r}=e.priceUSD;return[+t,+s,+i,+r]})(e);return{timestamp:t,price:s,volume:+e.volume.amountUSD}},U=v.Ps`
  query SubqueryAssetPriceQuery($after: Cursor = "", $filter: AssetSnapshotFilter, $first: Int = null) {
    data: assetSnapshots(after: $after, first: $first, filter: $filter, orderBy: [TIMESTAMP_DESC]) {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges {
        node {
          priceUSD
          timestamp
          volume
        }
      }
    }
  }
`,T=v.Ps`
  query SubsquidAssetPriceQuery($after: String = null, $filter: AssetSnapshotWhereInput, $first: Int = 1000) {
    data: assetSnapshotsConnection(after: $after, first: $first, where: $filter, orderBy: [timestamp_DESC]) {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges {
        node {
          priceUSD {
            close
            high
            low
            open
          }
          volume {
            amountUSD
          }
          timestamp
        }
      }
    }
  }
`;async function w(e,t,s,i){const r=(0,n.HZ)();let a;switch(r.type){case x.SUBQUERY:{const o=r,n=((e,t)=>({assetId:{equalTo:e},type:{equalTo:t}}))(e,t),h={filter:n,first:s,after:i};a=await o.services.explorer.fetchEntities(U,h);break}case x.SUBSQUID:{const o=r;""===i&&(i=null);const n=((e,t)=>({asset:{id_eq:e},type_eq:t}))(e,t),h={filter:n,first:s,after:i};a=await o.services.explorer.fetchEntitiesConnection(T,h);break}}return a?{...a,edges:a.edges.map((e=>({...e,node:A(e.node)})))}:null}const{IndexerType:k}=n.WALLET_CONSTS,I=e=>{const t=1e3*+e.timestamp,s=(e=>{const{open:t,close:s,low:i,high:r}=e.price;return[+t,+s,+i,+r]})(e);return{timestamp:t,price:s,volume:+e.volumeUSD}},C=v.Ps`
  query SubqueryOrderBookPriceQuery($after: Cursor, $filter: OrderBookSnapshotFilter, $first: Int = 100) {
    data: orderBookSnapshots(after: $after, first: $first, filter: $filter, orderBy: [TIMESTAMP_DESC]) {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges {
        node {
          price
          timestamp
          volumeUSD
        }
      }
    }
  }
`,D=v.Ps`
  query SubsquidOrderBookPriceQuery($after: String, $where: OrderBookSnapshotWhereInput, $first: Int = 100) {
    data: orderBookSnapshotsConnection(after: $after, first: $first, where: $where, orderBy: timestamp_DESC) {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges {
        node {
          price {
            close
            high
            low
            open
          }
          timestamp
          volumeUSD
        }
      }
    }
  }
`;async function F(e,t,s,i){const r=(0,n.HZ)();let a;switch(r.type){case k.SUBQUERY:{const o=r,n=((e,t)=>({orderBookId:{equalTo:e},type:{equalTo:t}}))(e,t),h={filter:n,first:s,after:i};a=await o.services.explorer.fetchEntities(C,h);break}case k.SUBSQUID:{const o=r,n=((e,t)=>({orderBook:{id_eq:e},type_eq:t}))(e,t),h={where:n,first:s,after:i};a=await o.services.explorer.fetchEntitiesConnection(D,h);break}}return a?{...a,edges:a.edges.map((e=>({...e,node:I(e.node)})))}:null}var E=s(69781),L=s(49053),B=s(59601),R=s(50961);var N;!function(e){e.LINE="line",e.CANDLE="candlestick",e.BAR="bar"}(N||(N={}));const Z={[N.LINE]:y.a.LineIcon,[N.CANDLE]:y.a.CandleIcon},_=[{name:B.D.FIVE_MINUTES,label:"5m",type:n.SUBQUERY_TYPES.SnapshotTypes.DEFAULT,count:48},{name:B.D.FIFTEEN_MINUTES,label:"15m",type:n.SUBQUERY_TYPES.SnapshotTypes.DEFAULT,count:144,group:3},{name:B.D.THIRTY_MINUTES,label:"30m",type:n.SUBQUERY_TYPES.SnapshotTypes.DEFAULT,count:288,group:6},{name:B.D.HOUR,label:"1h",type:n.SUBQUERY_TYPES.SnapshotTypes.HOUR,count:48},{name:B.D.FOUR_HOURS,label:"4h",type:n.SUBQUERY_TYPES.SnapshotTypes.HOUR,count:192,group:4},{name:B.D.DAY,label:"1D",type:n.SUBQUERY_TYPES.SnapshotTypes.DAY,count:90},{name:B.D.YEAR,label:"1Y",type:n.SUBQUERY_TYPES.SnapshotTypes.DAY,count:365},{name:B.D.ALL,label:"ALL",type:n.SUBQUERY_TYPES.SnapshotTypes.DAY,count:1/0}],$="Sora",M=10,O="chartZoom",q=e=>(t,s,i)=>a.FPNumber.gt(e,a.FPNumber.ZERO)?t:a.FPNumber.lt(e,a.FPNumber.ZERO)?s:i,z=(e,t)=>e.toLocaleString(t),Y=(e,t)=>{var s,i;return{timestamp:e?.timestamp??t?.timestamp,price:t?.price&&e?.price?(s=e.price,i=t.price,s.map(((e,t)=>((e,t)=>0!==t?e/t:0)(e,i[t])))):e?.price??[0,0,0,0],volume:t?.volume&&e?.volume?Math.min(t.volume,e.volume):e?.volume??0}};let Q=class extends((0,f.Wr)(g.Z,n.tA.LoadingMixin,n.tA.NumberFormatterMixin,n.tA.FormattedAmountMixin)){constructor(...e){super(...e),(0,i.Z)(this,"currency",void 0),(0,i.Z)(this,"currencies",void 0),(0,i.Z)(this,"exchangeRate",void 0),(0,i.Z)(this,"currencySymbol",void 0),(0,i.Z)(this,"dexId",void 0),(0,i.Z)(this,"baseAsset",void 0),(0,i.Z)(this,"quoteAsset",void 0),(0,i.Z)(this,"isAvailable",void 0),(0,i.Z)(this,"isOrderBook",void 0),(0,i.Z)(this,"isFetchingError",!1),(0,i.Z)(this,"FontWeightRate",n.WALLET_CONSTS.FontWeightRate),(0,i.Z)(this,"snapshotBuffer",{}),(0,i.Z)(this,"pageInfos",{}),(0,i.Z)(this,"dataset",[]),(0,i.Z)(this,"zoomStart",0),(0,i.Z)(this,"zoomEnd",100),(0,i.Z)(this,"precision",2),(0,i.Z)(this,"limits",{min:1/0,max:0}),(0,i.Z)(this,"updatePrices",(0,R._1)(this.getHistoricalPrices,250,{leading:!1})),(0,i.Z)(this,"forceUpdatePrices",(0,R._1)(this.resetAndUpdatePrices,250,{leading:!1})),(0,i.Z)(this,"priceUpdateRequestId",0),(0,i.Z)(this,"priceUpdateSubscription",null),(0,i.Z)(this,"priceUpdateTimestampSync",null),(0,i.Z)(this,"chartType",N.LINE),(0,i.Z)(this,"selectedFilter",_[0]),(0,i.Z)(this,"isReversedChart",!1)}handleTokensChange(e,t){if(!l()(e)(t)){const s=this.isReversedChart?[...t].reverse():t;this.isReversedChart=!1,l()(e)(s)||this.forceUpdatePrices()}}toAmount(e,t){const s=e instanceof a.FPNumber?e:new a.FPNumber(e),i=this.isTokensPair?s:s.mul(this.exchangeRate);return z(i,t)}toPrice(e,t){const s=e instanceof a.FPNumber?e:new a.FPNumber(e);return((e,t,s)=>`${z(e,t)} ${s}`)(this.isTokensPair?s:s.mul(this.exchangeRate),t,this.symbol)}get chartKey(){if(!this.isTokensPair)return`price-chart-${this.symbol}-rate-${this.exchangeRate}`}get isLineChart(){return this.chartType===N.LINE}get inputTokensAddresses(){return[this.baseAsset,this.quoteAsset].filter((e=>!!e)).map((e=>e.address))}get tokenA(){return this.isReversedChart?this.quoteAsset:this.baseAsset}get tokenB(){return this.isReversedChart?this.baseAsset:this.quoteAsset}get tokens(){return[this.tokenA,this.tokenB].filter((e=>!!e))}get tokensAddresses(){return this.tokens.map((e=>e.address))}get isTokensPair(){return 2===this.tokensAddresses.length}get orderBookId(){return this.baseAsset&&this.quoteAsset?[this.dexId,this.baseAsset.address,this.quoteAsset.address].join("-"):null}get entities(){return this.isOrderBook?this.orderBookId?[this.orderBookId]:[]:this.tokensAddresses}get chartTypeButtons(){return[N.LINE,N.CANDLE].map((e=>({type:e,icon:Z[e],active:this.chartType===e})))}get filters(){return _}get chartIsLoading(){return this.parentLoading||this.loading}get symbol(){return this.tokenB?.symbol??((0,R.zC)(this.currency,this.currencies)?.key.toUpperCase()||"USD")}get currentPrice(){return new a.FPNumber(this.dataset[0]?.price[1]??0)}get currentPriceFormatted(){return this.toAmount(this.currentPrice,this.precision)}get isAllHistoricalPricesFetched(){return Object.entries(this.pageInfos).some((([e,t])=>{const s=this.snapshotBuffer[e]?.length===this.dataset.length;return!t.hasNextPage&&s}))}get timeDifference(){return 1e3*b.wY[this.selectedFilter.type]}get visibleChartItemsRange(){const e=this.chartData.length;return[Math.floor(e*this.zoomStart/100),Math.ceil(e*this.zoomEnd/100)-1]}get priceChange(){const[e,t]=this.visibleChartItemsRange,s=new a.FPNumber(this.chartData[e]?.[2]??0),i=new a.FPNumber(this.chartData[t]?.[2]??0);return(0,R._Q)(i,s)}get gridLeftOffset(){const e=10*this.limits.max;return 16+(0,R.mY)(new a.FPNumber(e).toLocaleString(this.precision),$,M)}get chartData(){const e=[],{dataset:t,selectedFilter:{group:s}}=this,i=t.slice().reverse();for(let t=0;t<i.length;t++)if(s&&t%s!=0){const s=d()(e);s&&(s[2]=i[t].price[1],s[3]=Math.min(s[3],i[t].price[2]),s[4]=Math.max(s[4],i[t].price[3]),s[5]=s[5]+(i[t].volume??0))}else e.push([i[t].timestamp,...i[t].price,i[t].volume]);return Object.freeze(e)}get chartSpec(){const e=1===this.entities.length,t=this.gridSpec({top:20,left:this.gridLeftOffset}),s=this.gridSpec({height:72,left:this.gridLeftOffset}),i=this.xAxisSpec({boundaryGap:!this.isLineChart&&[.005,.005],axisLabel:{show:!0},axisLine:{show:!0,lineStyle:{color:this.theme.color.base.content.tertiary}},axisPointer:{label:{show:!0}}}),r=this.xAxisSpec({gridIndex:1,boundaryGap:!1,axisLabel:{show:!0},axisPointer:{type:"none"}}),o=this.yAxisSpec({axisLabel:{formatter:e=>this.toAmount(e,this.precision),showMaxLabel:!1,showMinLabel:!1},axisPointer:{label:{precision:this.precision,formatter:({value:e})=>this.toAmount(e,this.precision)}},min:"dataMin",max:"dataMax"}),n=this.yAxisSpec({gridIndex:1,splitNumber:2,axisLabel:{formatter:e=>{const t=new a.FPNumber(e).mul(this.exchangeRate),{amount:s,suffix:i}=(0,R.kF)(t);return`${s} ${i}`},showMaxLabel:!0}}),c={id:O,type:"inside",xAxisIndex:[0,1],start:0,end:100,minValueSpan:11*this.timeDifference},l=this.tooltipSpec({axisPointer:{type:"cross"},formatter:t=>{const{data:s,seriesType:i}=t[0],[,r,o,n,h,c]=s,l=[],p=new a.FPNumber(o);if(i===N.CANDLE){const e=new a.FPNumber(r),t=(0,R._Q)(p,e),s=q(t)(this.theme.color.status.success,this.theme.color.status.error,this.theme.color.base.content.primary);l.push({title:"Open",data:this.toPrice(e,this.precision)},{title:"High",data:this.toPrice(h,this.precision)},{title:"Low",data:this.toPrice(n,this.precision)},{title:"Close",data:this.toPrice(p,this.precision)},{title:"Change",data:(d=t,`${q(d)("+","","")}${(0,R.Gc)(d,!0)}`),color:s})}else l.push({title:"Price",data:this.toPrice(p,this.precision)});var d;return e&&l.push({title:"Volume",data:`${this.currencySymbol} ${this.toAmount(c,2)}`}),`\n          <table>\n            ${l.map((e=>`\n              <tr>\n                <td align="right" style="color:${this.theme.color.base.content.secondary}">${e.title}</td>\n                <td style="color:${e.color??this.theme.color.base.content.primary}">${e.data}</td>\n              </tr>\n            `)).join("")}\n          </table>\n        `}}),p=this.isLineChart?this.lineSeriesSpec({encode:{y:"close"},areaStyle:{opacity:.8,color:new h.Q.o(0,0,0,1,[{offset:0,color:"rgba(248, 8, 123, 0.25)"},{offset:1,color:"rgba(255, 49, 148, 0.03)"}])}}):this.candlestickSeriesSpec(),d={type:"bar",barMaxWidth:10,xAxisIndex:1,yAxisIndex:1,itemStyle:{color:({data:e})=>{const[t,s,i]=e;return s>i?this.theme.color.status.error:this.theme.color.status.success},opacity:.7},encode:{y:"volume"}},u={animation:!1,axisPointer:{link:[{xAxisIndex:"all"}]},color:[this.theme.color.theme.accent,this.theme.color.status.success],dataset:{source:this.chartData,dimensions:["timestamp","open","close","low","high","volume"]},dataZoom:[c],grid:[t],xAxis:[i],yAxis:[o],tooltip:l,series:[p]};return e&&(t.bottom=120,i.axisLabel.show=!1,i.axisPointer.label.show=!1,u.grid.push(s),u.xAxis.push(r),u.yAxis.push(n),u.series.push(d)),u}created(){this.forceUpdatePrices()}beforeDestroy(){this.unsubscribeFromPriceUpdates()}async requestData(e,t,s,i=!0,r){const a=this.isOrderBook?F:w,o=[];do{const h=(0,n.HZ)().type===n.WALLET_CONSTS.IndexerType.SUBSQUID?1e3:100,c=Math.min(s,h),l=await a(e,t,c,r);if(!l)throw new Error("Chart data fetch error");i=l.pageInfo.hasNextPage,r=l.pageInfo.endCursor,o.push(...l.edges.map((e=>e.node))),s-=l.edges.length}while(i&&s>0);return{nodes:o,hasNextPage:i,endCursor:r}}async fetchData(e){const{type:t,count:s}=this.selectedFilter,i=this.pageInfos[e],r=i?.hasNextPage??!0,a=i?.endCursor??void 0,o=this.snapshotBuffer[e]??[],n=this.dataset.length,h=o.slice(n);if(h.length>=s||!r)return h;const{nodes:c,...l}=await this.requestData(e,t,s,r,a),p=d()(h)?.timestamp??d()(this.dataset)?.timestamp??Date.now(),u=((e,t,s)=>{const i=[];for(const r of e){const e=[],a=d()(i)?.timestamp??s;let o=r.timestamp;for(;(o+=t)<a;)e.push({timestamp:o,price:[r.price[1],r.price[1],r.price[1],r.price[1]],volume:0});i.push(...e.reverse(),r)}return i})(c,this.timeDifference,p);return this.fillSnapshotBuffer(e,u),this.pageInfos[e]=l,[...h,...u]}async fetchDataLastUpdates(e){const t={};return await Promise.all(e.map((async e=>{try{const s=(await this.requestData(e,this.selectedFilter.type,1)).nodes[0];t[e]=s}catch{return null}}))),t}getUpdatedPrecision(e,t){const s=[t,e,t-e].map((e=>(e=>{let t=2;if(0===e||!Number.isFinite(e))return t;let s=Math.abs(e);for(;Math.floor(s)<=0;)s*=10,t++;return t})(e)));return Math.max(...s)}async getHistoricalPrices(){if(this.loading||this.isAllHistoricalPricesFetched)return;if(this.isTokensPair&&!this.isAvailable)return;const e=[...this.entities],t=Date.now();this.priceUpdateRequestId=t,await this.withApi((async()=>{try{const s=await Promise.all(e.map((e=>this.fetchData(e))));if(!l()(e)(this.entities)||!l()(t)(this.priceUpdateRequestId))return;const i=[],r=Math.min(s[0]?.length??1/0,s[1]?.length??1/0,this.selectedFilter.count);let{min:a,max:o}=this.limits;for(let e=0;e<r;e++){const t=s[0]?.[e],r=s[1]?.[e],{timestamp:n,price:h,volume:c}=Y(t,r);if(!h.some((e=>!Number.isFinite(e)))){if(0===h[0]&&0===h[1])break;i.push({timestamp:n,price:h,volume:c}),a=Math.min(a,...h),o=Math.max(o,...h)}}this.limits={min:a,max:o},this.precision=this.getUpdatedPrecision(a,o),this.updateDataset([...this.dataset,...i]),this.isFetchingError=!1}catch(e){this.isFetchingError=!0,console.error(e)}}))}fillSnapshotBuffer(e,t){const s=this.snapshotBuffer[e]??[];this.snapshotBuffer[e]=Object.freeze([...s,...t])}async subscribeToPriceUpdates(){if(this.unsubscribeFromPriceUpdates(),!this.entities.length)return;const e=[...this.entities];this.priceUpdateSubscription=await this.getPriceUpdatesSubscription(e),this.priceUpdateTimestampSync=setInterval((()=>this.handlePriceTimestampSync(e)),6e3)}unsubscribeFromPriceUpdates(){this.priceUpdateSubscription&&this.priceUpdateSubscription(),this.priceUpdateTimestampSync&&clearInterval(this.priceUpdateTimestampSync),this.priceUpdateSubscription=null,this.priceUpdateTimestampSync=null}async getPriceUpdatesSubscription(e){if(this.isOrderBook)return await(0,P.js)(this.dexId,this.baseAsset.address,this.quoteAsset.address,(()=>this.fetchAndHandleUpdate(e)),console.error);{const t=setInterval((()=>{this.fetchAndHandleUpdate(e)}),3e4);return()=>clearInterval(t)}}getCurrentSnapshotTimestamp(){const e=Math.floor(Date.now()/1e3),t=this.timeDifference/1e3;return t*Math.floor(e/t)*1e3}handlePriceTimestampSync(e){if(!l()(e)(this.entities))return;const t=this.getCurrentSnapshotTimestamp(),s=this.dataset[0];if(!s||t===s.timestamp)return;const i=s.price[1],r={timestamp:t,price:[i,i,i,i],volume:0};this.updateDataset([r,...this.dataset])}async fetchAndHandleUpdate(e){if(!l()(e)(this.entities))return;const t=await this.fetchDataLastUpdates(e);if(!t)return;const s=[...this.dataset],i=s[0],[r,a]=e.map((e=>t[e])),o=Y(r,a);if(o.price.some((e=>!Number.isFinite(e))))return;if(i?.timestamp>o.timestamp)return;i?.timestamp===o.timestamp&&s.shift(),s.unshift(o);const n=Math.min(this.limits.min,...o.price),h=Math.max(this.limits.max,...o.price);this.precision=this.getUpdatedPrecision(n,h),this.limits={min:n,max:h},this.updateDataset(s)}clearData(e=!1,t=!1){this.snapshotBuffer=t?{}:m()(this.entities,this.snapshotBuffer),this.pageInfos=t?{}:m()(this.entities,this.pageInfos),this.dataset=[],this.zoomStart=0,this.zoomEnd=100,this.limits={min:1/0,max:0},this.precision=2,e||(this.isReversedChart=!1)}updateDataset(e){this.dataset=Object.freeze(e)}async changeFilter(e){const t=this.selectedFilter.type,{count:s,type:i}=e;this.selectedFilter=e,t!==i?await this.forceUpdatePrices(!0,!0):this.dataset.length<s?await this.updatePrices():await this.resetChartTypeZoom()}async resetChartTypeZoom(){const{count:e,group:t}=this.selectedFilter,s=this.chartData.length,i=e/(t??1),r=s>i?100*(s-i)/s:0;await this.setChartZoomLevel(r,100)}async resetAndUpdatePrices(e=!1,t=!1){this.clearData(e,t),await this.updatePrices(),await this.subscribeToPriceUpdates()}async selectChartType(e){this.chartType=e,await this.setChartZoomLevel(this.zoomStart,this.zoomEnd)}handleZoom(e){e?.stop?.(),e?.wheelDelta<0&&0===this.zoomStart&&100===this.zoomEnd&&this.updatePrices()}changeZoomLevel(e){const t=e?.batch?.[0];this.zoomStart=t?.start??0,this.zoomEnd=t?.end??0}async setChartZoomLevel(e,t){await this.$nextTick();this.$refs.chart.dispatchAction({type:"dataZoom",batch:[{dataZoomId:O,start:e,end:t}]})}revertChart(){this.isReversedChart=!this.isReversedChart,this.forceUpdatePrices(!0,!1)}};(0,r.gn)([L.SB.wallet.settings.currency],Q.prototype,"currency",void 0),(0,r.gn)([L.SB.wallet.settings.currencies],Q.prototype,"currencies",void 0),(0,r.gn)([L.Yn.wallet.settings.exchangeRate],Q.prototype,"exchangeRate",void 0),(0,r.gn)([L.Yn.wallet.settings.currencySymbol],Q.prototype,"currencySymbol",void 0),(0,r.gn)([(0,f.fI)({default:o.DexId.XOR,type:Number})],Q.prototype,"dexId",void 0),(0,r.gn)([(0,f.fI)({default:()=>null,type:Object})],Q.prototype,"baseAsset",void 0),(0,r.gn)([(0,f.fI)({default:()=>null,type:Object})],Q.prototype,"quoteAsset",void 0),(0,r.gn)([(0,f.fI)({default:!1,type:Boolean})],Q.prototype,"isAvailable",void 0),(0,r.gn)([(0,f.fI)({default:!1,type:Boolean})],Q.prototype,"isOrderBook",void 0),(0,r.gn)([(0,f.RL)("inputTokensAddresses")],Q.prototype,"handleTokensChange",null),Q=(0,r.gn)([(0,f.wA)({components:{TokenLogo:n.wx.TokenLogo,FormattedAmount:n.wx.FormattedAmount,BaseWidget:(0,E.kF)(S.z8.BaseWidget),SvgIconButton:(0,E.kF)(S.z8.SvgIconButton),TokensRow:(0,E.kF)(S.z8.TokensRow),PriceChange:(0,E.kF)(S.z8.PriceChange),StatsFilter:(0,E.kF)(S.z8.StatsFilter),ChartSkeleton:(0,E.kF)(S.z8.ChartSkeleton)}})],Q);var H=Q,W=(0,s(1001).Z)(H,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("base-widget",e._b({scopedSlots:e._u([{key:"title",fn:function(){return[t("tokens-row",{attrs:{border:"",assets:e.tokens,size:"medium"}}),e.tokenA?t("div",{staticClass:"token-title"},[t("span",[e._v(e._s(e.tokenA.symbol))]),e.tokenB?t("span",[e._v("/"+e._s(e.tokenB.symbol))]):e._e()]):e._e(),e.isTokensPair&&!e.isOrderBook?t("s-button",{class:{"s-pressed":e.isReversedChart},attrs:{disabled:e.chartIsLoading,size:"small",type:"action",alternative:"",icon:"arrows-swap-90-24"},on:{click:e.revertChart}}):e._e()]},proxy:!0},{key:"filters",fn:function(){return[t("stats-filter",{attrs:{filters:e.filters,value:e.selectedFilter,disabled:e.chartIsLoading},on:{change:e.changeFilter}})]},proxy:!0},{key:"types",fn:function(){return e._l(e.chartTypeButtons,(function({type:s,icon:i,active:r}){return t("svg-icon-button",{key:s,attrs:{icon:i,active:r,disabled:e.chartIsLoading,size:"small"},on:{click:function(t){return e.selectChartType(s)}}})}))},proxy:!0}])},"base-widget",e.$attrs,!1),[t("chart-skeleton",{attrs:{loading:e.chartIsLoading,"is-empty":0===e.chartData.length,"is-error":e.isFetchingError},on:{retry:e.updatePrices}},[t("formatted-amount",{staticClass:"charts-price",attrs:{value:e.currentPriceFormatted,"font-weight-rate":e.FontWeightRate.MEDIUM,"font-size-rate":e.FontWeightRate.MEDIUM,"asset-symbol":e.symbol,"symbol-as-decimal":""}}),e.isFetchingError?e._e():t("price-change",{attrs:{value:e.priceChange}}),t("v-chart",{key:e.chartKey,ref:"chart",staticClass:"chart",attrs:{option:e.chartSpec,autoresize:""},on:{"zr:mousewheel":e.handleZoom,datazoom:e.changeZoomLevel}})],1)],1)}),[],!1,null,null,null).exports}}]);
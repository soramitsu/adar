"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[9479],{37627:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var i=s(23166),r=s(97582),o=s(99278),a=s(59739),n=s(37981),d=s(36685),u=s(30657),l=s(86424),h=s(89445),c=s(55174),p=s(36113),m=s(68282),k=s(69781),b=s(49053),g=s(30606),B=s(50961),S=s(7653);let v=class extends((0,h.Wr)(c.Z,p.Z,l.tA.TransactionMixin,l.tA.FormattedAmountMixin)){constructor(...e){super(...e),(0,i.Z)(this,"prevRoute",void 0),(0,i.Z)(this,"networkFees",void 0),(0,i.Z)(this,"_limitOrderType",void 0),(0,i.Z)(this,"baseValue",void 0),(0,i.Z)(this,"quoteValue",void 0),(0,i.Z)(this,"side",void 0),(0,i.Z)(this,"asks",void 0),(0,i.Z)(this,"bids",void 0),(0,i.Z)(this,"baseAssetAddress",void 0),(0,i.Z)(this,"sliderValue",void 0),(0,i.Z)(this,"userLimitOrders",void 0),(0,i.Z)(this,"dexId",void 0),(0,i.Z)(this,"slippageTolerance",void 0),(0,i.Z)(this,"fromValue",void 0),(0,i.Z)(this,"toValue",void 0),(0,i.Z)(this,"xor",void 0),(0,i.Z)(this,"baseAsset",void 0),(0,i.Z)(this,"quoteAsset",void 0),(0,i.Z)(this,"currentOrderBook",void 0),(0,i.Z)(this,"orderBookStats",void 0),(0,i.Z)(this,"tokenFrom",void 0),(0,i.Z)(this,"tokenTo",void 0),(0,i.Z)(this,"setBaseValue",void 0),(0,i.Z)(this,"setQuoteValue",void 0),(0,i.Z)(this,"setSide",void 0),(0,i.Z)(this,"setAmountSliderValue",void 0),(0,i.Z)(this,"setFromValue",void 0),(0,i.Z)(this,"setToValue",void 0),(0,i.Z)(this,"setLiquiditySource",void 0),(0,i.Z)(this,"selectDexId",void 0),(0,i.Z)(this,"setLimitOrderType",void 0),(0,i.Z)(this,"resetTokenToAddress",void 0),(0,i.Z)(this,"setTokenFromAddress",void 0),(0,i.Z)(this,"setTokenToAddress",void 0),(0,i.Z)(this,"updateBalanceSubscription",void 0),(0,i.Z)(this,"updateOrderBooksStats",void 0),(0,i.Z)(this,"prevSwapFromAddress",""),(0,i.Z)(this,"prevSwapToAddress",""),(0,i.Z)(this,"visibleBookList",!1),(0,i.Z)(this,"limitForSinglePriceReached",!1),(0,i.Z)(this,"quoteSubscription",null),(0,i.Z)(this,"timestamp",u.MAX_TIMESTAMP),(0,i.Z)(this,"marketQuotePrice",""),(0,i.Z)(this,"reason",""),(0,i.Z)(this,"reading",""),(0,i.Z)(this,"OrderBookTabs",g.zt)}handleSideChange(e,t){if(this.updateBalanceSubscription(),this.handleTabClick(),e.startsWith("0x")&&e!==t)this.setAmountSliderValue(0);else if(["Buy","Sell"].includes(e)&&e!==t){if(!this.currentOrderBook)return;const e=this.currentOrderBook.maxLotSize,t=(0,B.MN)(this.baseAsset,this.networkFee);e.gt(new n.FPNumber(t))&&(this.handleInputFieldBase(""),this.setAmountSliderValue(0))}}setTokens(){this.baseAsset&&this.quoteAsset&&(this.isBuySide?(this.setTokenFromAddress(this.quoteAsset.address),this.setTokenToAddress(this.baseAsset.address)):(this.setTokenFromAddress(this.baseAsset.address),this.setTokenToAddress(this.quoteAsset.address)))}updateStats(){this.resetValues(),this.visibleBookList&&this.updateOrderBooksStats()}checkValidation(){this.checkInputValidation()}get limitOrderType(){return this._limitOrderType}set limitOrderType(e){this.setLimitOrderType(e)}get networkFee(){return this.networkFees[n.Operation.OrderBookPlaceLimitOrder]}get isSliderAvailable(){const e=(0,B.MN)(this.baseAsset,this.networkFee);return new n.FPNumber(e).gt(n.FPNumber.ZERO)}get isMarketType(){return this.limitOrderType===m.b8.market}get isBalanceLessThanStepSize(){if(!this.currentOrderBook)return!1;const{stepLotSize:e}=this.currentOrderBook,t=(0,B.MN)(this.baseAsset,this.networkFee);return!this.amountPrecision&&"0"===this.baseValue&&!this.isBuySide&&new n.FPNumber(t).lt(e)}get hasExplainableError(){return!!this.reason&&!!this.reading}get formattedAmountAtPrice(){return this.baseValue&&this.quoteValue?this.t("orderBook.tradingPair.total",{amount:this.formatStringValue(this.baseValue),symbol:this.baseSymbol,amount2:this.formatStringValue(this.quoteValue||this.marketQuotePrice),symbol2:this.quoteSymbol}):""}get formattedTotal(){return this.getFPNumber(this.baseValue).mul(this.getFPNumber(this.quoteValue)).toLocaleString()}get shouldErrorTooltipBeShown(){return this.isLoggedIn&&this.hasExplainableError}get isLimitOrder(){return this.limitOrderType===m.b8.limit}get isPlaceAndCancelMode(){return this.orderBookStatus===o.OrderBookStatus.PlaceAndCancel}setError({reason:e,reading:t}){this.reason=e,this.reading=t}get buttonDisabled(){if(this.bookStopped)return!0;if(this.limitForSinglePriceReached||this.userReachedSpotLimit||this.userReachedOwnLimit)return!0;if(!this.isLoggedIn)return!1;if(this.limitOrderType===m.b8.limit){if(!this.baseValue||!this.quoteValue)return!0;if(!this.isPriceBeyondPrecision)return!0;if(this.orderBookStatus===o.OrderBookStatus.PlaceAndCancel&&this.priceExceedsSpread)return!0}else{if(!this.baseValue)return!0;if(!this.marketQuotePrice)return!0}return!!(this.isOutOfAmountBounds||this.isInsufficientXorForFee||this.isInsufficientBalance)}async checkInputValidation(){if(this.setError({reason:"",reading:""}),this.orderBookStatus!==o.OrderBookStatus.Stop){if(this.isLimitOrder){if(await this.singlePriceReachedLimit()&&this.quoteValue)return this.setError({reason:this.t("orderBook.error.singlePriceLimit.reason"),reading:this.t("orderBook.error.singlePriceLimit.reading")});if(this.userReachedOwnLimit)return this.setError({reason:this.t("orderBook.error.accountLimit.reason"),reading:this.t("orderBook.error.accountLimit.reading")});if(this.userReachedSpotLimit)return this.setError({reason:this.t("orderBook.error.spotLimit.reason"),reading:this.t("orderBook.error.spotLimit.reading")})}if(!this.isPriceBeyondPrecision&&this.baseValue&&this.isLimitOrder){const{tickSize:e}=this.currentOrderBook;return this.setError({reason:this.t("orderBook.error.multipleOf.reason"),reading:this.t("orderBook.error.multipleOf.reading",{value:e?.toString()})})}if(this.isMarketType&&(await(0,B.gw)(300),!this.marketQuotePrice&&!this.isZeroAmount))return this.setError({reason:this.t("orderBook.error.marketNotAvailable.reason"),reading:this.t("orderBook.error.marketNotAvailable.reading")});if(this.orderBookStatus===o.OrderBookStatus.PlaceAndCancel&&this.priceExceedsSpread)return this.setError({reason:this.t("orderBook.error.exceedsSpread.reason"),reading:this.t("orderBook.error.exceedsSpread.reading")});if(!this.isZeroAmount&&this.isOutOfAmountBounds&&this.quoteValue||this.isBalanceLessThanStepSize){const{maxLotSize:e,minLotSize:t}=this.currentOrderBook,{symbol:s}=this.baseAsset;return this.setError({reason:this.t("orderBook.error.outOfBounds.reason"),reading:this.t("orderBook.error.outOfBounds.reading",{max:`${e?.toLocaleString()} ${s}`,min:`${t?.toLocaleString()} ${s}`})})}}}get priceExceedsSpread(){if(this.isBuySide){if(!this.asks[this.asks.length-1])return!1;const e=this.asks[this.asks.length-1][0],t=new n.FPNumber(this.quoteValue);return n.FPNumber.gte(t,e)}{if(!this.bids[0])return!1;const e=this.bids[0][0],t=new n.FPNumber(this.quoteValue);return n.FPNumber.lte(t,e)}}get orderBookPrice(){const e=this.orderBookStats?.price??n.FPNumber.ZERO,t=(0,S.k2)(this.currentOrderBook);return e.dp(t).toLocaleString()}get orderBookPriceChange(){return this.orderBookStats?.priceChange??n.FPNumber.ZERO}get orderBookVolume(){return(this.orderBookStats?.volume??n.FPNumber.ZERO).toLocaleString()}get marketOptionDisabled(){return this.orderBookStatus===o.OrderBookStatus.PlaceAndCancel}get isZeroAmount(){return(0,B.yA)(this.baseValue)}get isZeroPrice(){return(0,B.yA)(this.quoteValue)}get hasZeroAmount(){return this.isZeroAmount||this.isZeroPrice}get isPriceTooHigh(){if(!this.asks.length)return!1;if(!this.isBuySide){if(!this.asks[this.asks.length-1])return!1;const e=this.asks[this.asks.length-1][0].mul(new n.FPNumber(1.5)),t=new n.FPNumber(this.quoteValue);if(n.FPNumber.gt(t,e))return!0}return!1}get isPriceTooLow(){if(!this.bids.length)return!1;if(this.isBuySide){if(!this.bids[0])return!1;const e=this.bids[0][0].div(n.FPNumber.TWO),t=new n.FPNumber(this.quoteValue);if(n.FPNumber.lt(t,e))return!0}return!1}get isPriceBeyondPrecision(){if(!this.currentOrderBook)return!1;const e=this.currentOrderBook.tickSize;return new n.FPNumber(this.quoteValue).isZeroMod(e)}get bookPrecision(){return this.currentOrderBook?.tickSize?.toLocaleString()?.split(n.FPNumber.DELIMITERS_CONFIG.decimal)?.[1]?.length??0}get amountPrecision(){return this.currentOrderBook?.stepLotSize?.toLocaleString()?.split(n.FPNumber.DELIMITERS_CONFIG.decimal)?.[1]?.length??0}get isOutOfAmountBounds(){if(!this.currentOrderBook)return!1;const{maxLotSize:e,minLotSize:t,stepLotSize:s}=this.currentOrderBook,i=new n.FPNumber(this.baseValue);return!(n.FPNumber.lte(i,e)&&n.FPNumber.gte(i,t)&&i.isZeroMod(s))}get computedBtnClass(){return this.isLoggedIn&&this.isBuySide?"buy-btn":""}get isPriceInputDisabled(){return this.isMarketType}get icon(){return this.visibleBookList?"arrows-circle-chevron-top-24":"arrows-circle-chevron-bottom-24"}get baseSymbol(){return this.baseAsset?this.baseAsset.symbol:""}get quoteSymbol(){return this.quoteAsset?this.quoteAsset.symbol:""}getTokenBalance(e){return(0,B.rh)(e)}get areTokensSelected(){return!(!this.baseAsset||!this.quoteAsset)}toggleBookList(){this.visibleBookList=!this.visibleBookList}getPercent(e){return e?new n.FPNumber(e).div(this.maxPossibleAmount).mul(n.FPNumber.HUNDRED).toNumber():0}handleSlideInputChange(e){this.setAmountSliderValue(Number(e));const t=new n.FPNumber(e).div(n.FPNumber.HUNDRED).mul(this.maxPossibleAmount).dp(this.amountPrecision);t&&this.handleInputFieldBase(t.toString())}handleInputFieldQuote(e){const t=this.formatInputValue(e,this.bookPrecision);this.setQuoteValue(t),this.checkInputValidation()}handleInputFieldBase(e){const t=this.formatInputValue(e,this.amountPrecision);this.setBaseValue(t),this.setAmountSliderValue(this.getPercent(t)),this.checkInputValidation(),t||this.resetQuoteSubscription(),this.isMarketType&&(t?this.subscribeOnBookQuote():this.setQuoteValue(""))}get preparedForSwap(){return this.isLoggedIn&&this.areTokensSelected}get isInsufficientXorForFee(){return(0,B.LG)(this.xor,this.networkFee)}get isInsufficientBalance(){if(!this.tokenFrom)return!1;let e;if(this.isBuySide){const t=new n.FPNumber(this.quoteValue),s=new n.FPNumber(this.baseValue);e=t.mul(s).toString()}else e=this.baseValue;return this.preparedForSwap&&(0,B.Vl)(this.tokenFrom,e,this.networkFee)}async handleOrderPlacement(){this.isLoggedIn?(this.isMarketType&&this.subscribeOnBookQuote(),this.confirmOrExecute(this.placeOrder)):this.connectSoraWallet()}async placeOrder(){await this.withNotifications((async()=>{if(await this.singlePriceReachedLimit())return void this.$alert(this.t("orderBook.error.singlePriceLimit.reading"),{title:this.t("errorText")});const e=this.isMarketType?this.placeMarketOrder:this.placeLimitOrder;await e(),this.resetValues()}))}placeMarketOrder(){return l.hi.swap.execute(this.tokenFrom,this.tokenTo,this.fromValue,this.toValue,this.slippageTolerance,this.isBuySide,a.LiquiditySourceTypes.OrderBook,this.dexId)}placeLimitOrder(){return l.hi.orderBook.placeLimitOrder(this.baseAsset,this.quoteAsset,this.quoteValue,this.baseValue,this.side)}get orderBookStatus(){return this.currentOrderBook?.status??o.OrderBookStatus.Stop}get bookStopped(){return![o.OrderBookStatus.Trade,o.OrderBookStatus.PlaceAndCancel].includes(this.orderBookStatus)}get isBuySide(){return this.side===o.PriceVariant.Buy}get isMaxAmountAvailable(){return!(!this.baseAsset||!this.quoteAsset)&&(this.isLoggedIn&&(0,B.oI)(this.baseAsset,this.baseValue,this.networkFee,this.xor,!0))}get maxPossibleAmount(){if(!this.currentOrderBook)return n.FPNumber.ZERO;const e=(0,B.MN)(this.baseAsset,this.networkFee),t=this.currentOrderBook.maxLotSize,s=n.FPNumber.fromNatural(e,this.amountPrecision);return this.isBuySide?t:n.FPNumber.lte(s,t)?s:t}get userReachedSpotLimit(){if(this.isMarketType)return!1;if((this.side===o.PriceVariant.Sell?this.asks:this.bids).length>=S.jb&&this.quoteValue){if(this.isPriceUnique(this.quoteValue))return!0;if(this.limitForSinglePriceReached)return!0}return!1}isPriceUnique(e){return!(this.isBuySide?this.bids:this.asks).map((e=>e[0])).map((e=>e.toString())).includes(e)}get userReachedOwnLimit(){return!this.isMarketType&&this.userLimitOrders?.length===S.GM}async singlePriceReachedLimit(){if(this.isMarketType||!this.quoteValue)return!1;const e=!await l.hi.orderBook.isOrderPlaceable(this.baseAsset.address,this.quoteAsset.address,this.side,this.quoteValue);return this.limitForSinglePriceReached=e,e}formatInputValue(e,t){if(!e)return"";const[s,i]=e.split(".");return e.endsWith(".")&&0===t?e.slice(0,-1):e.endsWith(".")||i?.length<=t?e:new n.FPNumber(e).dp(t).toString()}resetQuoteSubscription(){this.quoteSubscription?.unsubscribe(),this.quoteSubscription=null}subscribeOnBookQuote(){if(this.resetQuoteSubscription(),!this.baseValue||!this.areTokensSelected)return;const e=this.tokenFrom.address,t=this.tokenTo.address,s=[a.LiquiditySourceTypes.OrderBook],i=l.hi.swap.getSwapQuoteObservable(e,t,s,this.dexId);i&&(this.quoteSubscription=i.subscribe((async({quote:i})=>{const{result:{amount:r}}=i(e,t,this.baseValue,this.isBuySide,s);if(n.FPNumber.fromCodecValue(r).isZero()||this.limitOrderType===m.b8.limit)return this.resetQuoteSubscription(),this.setQuoteValue(""),this.setToValue(""),void(this.marketQuotePrice="");this.marketQuotePrice=n.FPNumber.fromCodecValue(r).div(n.FPNumber.fromNatural(this.baseValue)).dp(this.bookPrecision).toString(),this.prepareValuesForSwap(r)})))}prepareValuesForSwap(e){if(!this.areTokensSelected||(0,B.yA)(this.baseValue))return;const t=this.isBuySide?this.getStringFromCodec(e):this.baseValue,s=this.isBuySide?this.baseValue:this.getStringFromCodec(e);this.setFromValue(t),this.setToValue(s),this.setQuoteValue(this.marketQuotePrice),this.setLiquiditySource(a.LiquiditySourceTypes.OrderBook),this.selectDexId(this.dexId),this.checkInputValidation()}resetValues(e){this.setBaseValue(""),this.setQuoteValue(""),e||(this.limitOrderType=m.b8.limit)}handleMaxValue(){this.handleInputFieldBase(this.maxPossibleAmount.toString()),this.checkInputValidation()}handleTabClick(){this.setTokens(),this.isMarketType||this.resetQuoteSubscription(),this.isMarketType&&(this.setQuoteValue(""),this.baseValue&&this.subscribeOnBookQuote()),this.checkInputValidation()}mounted(){this.updateBalanceSubscription(),this.prevRoute===m.sn.Swap&&this.tokenFrom?.address&&this.tokenTo?.address&&(this.prevSwapFromAddress=this.tokenFrom?.address,this.prevSwapToAddress=this.tokenTo?.address)}beforeDestroy(){this.resetQuoteSubscription(),this.updateBalanceSubscription(!0),this.prevSwapFromAddress&&this.prevSwapToAddress?(this.setTokenFromAddress(this.prevSwapFromAddress),this.setTokenToAddress(this.prevSwapToAddress)):(this.setTokenFromAddress(this.xor.address),this.resetTokenToAddress()),this.setFromValue(""),this.setToValue(""),this.setQuoteValue(""),this.setBaseValue(""),this.setLiquiditySource(a.LiquiditySourceTypes.Default),this.selectDexId(d.DexId.XOR),this.setSide(o.PriceVariant.Buy),this.setAmountSliderValue(0),this.limitOrderType=m.b8.limit}};(0,r.gn)([b.SB.router.prev],v.prototype,"prevRoute",void 0),(0,r.gn)([b.SB.wallet.settings.networkFees],v.prototype,"networkFees",void 0),(0,r.gn)([b.SB.orderBook.limitOrderType],v.prototype,"_limitOrderType",void 0),(0,r.gn)([b.SB.orderBook.baseValue],v.prototype,"baseValue",void 0),(0,r.gn)([b.SB.orderBook.quoteValue],v.prototype,"quoteValue",void 0),(0,r.gn)([b.SB.orderBook.side],v.prototype,"side",void 0),(0,r.gn)([b.SB.orderBook.asks],v.prototype,"asks",void 0),(0,r.gn)([b.SB.orderBook.bids],v.prototype,"bids",void 0),(0,r.gn)([b.SB.orderBook.baseAssetAddress],v.prototype,"baseAssetAddress",void 0),(0,r.gn)([b.SB.orderBook.amountSliderValue],v.prototype,"sliderValue",void 0),(0,r.gn)([b.SB.orderBook.userLimitOrders],v.prototype,"userLimitOrders",void 0),(0,r.gn)([b.SB.orderBook.dexId],v.prototype,"dexId",void 0),(0,r.gn)([b.SB.settings.slippageTolerance],v.prototype,"slippageTolerance",void 0),(0,r.gn)([b.SB.swap.fromValue],v.prototype,"fromValue",void 0),(0,r.gn)([b.SB.swap.toValue],v.prototype,"toValue",void 0),(0,r.gn)([b.Yn.assets.xor],v.prototype,"xor",void 0),(0,r.gn)([b.Yn.orderBook.baseAsset],v.prototype,"baseAsset",void 0),(0,r.gn)([b.Yn.orderBook.quoteAsset],v.prototype,"quoteAsset",void 0),(0,r.gn)([b.Yn.orderBook.currentOrderBook],v.prototype,"currentOrderBook",void 0),(0,r.gn)([b.Yn.orderBook.orderBookStats],v.prototype,"orderBookStats",void 0),(0,r.gn)([b.Yn.swap.tokenFrom],v.prototype,"tokenFrom",void 0),(0,r.gn)([b.Yn.swap.tokenTo],v.prototype,"tokenTo",void 0),(0,r.gn)([b.QF.orderBook.setBaseValue],v.prototype,"setBaseValue",void 0),(0,r.gn)([b.QF.orderBook.setQuoteValue],v.prototype,"setQuoteValue",void 0),(0,r.gn)([b.QF.orderBook.setSide],v.prototype,"setSide",void 0),(0,r.gn)([b.QF.orderBook.setAmountSliderValue],v.prototype,"setAmountSliderValue",void 0),(0,r.gn)([b.QF.swap.setFromValue],v.prototype,"setFromValue",void 0),(0,r.gn)([b.QF.swap.setToValue],v.prototype,"setToValue",void 0),(0,r.gn)([b.QF.swap.setLiquiditySource],v.prototype,"setLiquiditySource",void 0),(0,r.gn)([b.QF.swap.selectDexId],v.prototype,"selectDexId",void 0),(0,r.gn)([b.QF.orderBook.setLimitOrderType],v.prototype,"setLimitOrderType",void 0),(0,r.gn)([b.QF.swap.resetTokenToAddress],v.prototype,"resetTokenToAddress",void 0),(0,r.gn)([b.aD.swap.setTokenFromAddress],v.prototype,"setTokenFromAddress",void 0),(0,r.gn)([b.aD.swap.setTokenToAddress],v.prototype,"setTokenToAddress",void 0),(0,r.gn)([b.aD.orderBook.updateBalanceSubscription],v.prototype,"updateBalanceSubscription",void 0),(0,r.gn)([b.aD.orderBook.updateOrderBooksStats],v.prototype,"updateOrderBooksStats",void 0),(0,r.gn)([(0,h.RL)("side"),(0,h.RL)("baseAssetAddress")],v.prototype,"handleSideChange",null),(0,r.gn)([(0,h.RL)("baseAsset"),(0,h.RL)("quoteAsset")],v.prototype,"setTokens",null),(0,r.gn)([(0,h.RL)("visibleBookList")],v.prototype,"updateStats",null),(0,r.gn)([(0,h.RL)("marketQuotePrice"),(0,h.RL)("userLimitOrders")],v.prototype,"checkValidation",null),v=(0,r.gn)([(0,h.wA)({components:{FormattedAmount:l.wx.FormattedAmount,InfoLine:l.wx.InfoLine,TokenInput:(0,k.kF)(m.z8.TokenInput),PairTokenLogo:(0,k.kF)(m.z8.PairTokenLogo),PairListPopover:(0,k.kF)(m.z8.PairListPopover),PlaceConfirm:(0,k.kF)(m.z8.PlaceOrder),PlaceTransactionDetails:(0,k.kF)(m.z8.PlaceTransactionDetails),PriceChange:(0,k.kF)(m.z8.PriceChange),Error:(0,k.kF)(m.z8.ErrorButton)}})],v);var y=v,f=(0,s(1001).Z)(y,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"order-book order-books"},[t("el-popover",{attrs:{"popper-class":"order-book-whitelist",trigger:"click","visible-arrow":!1},model:{value:e.visibleBookList,callback:function(t){e.visibleBookList=t},expression:"visibleBookList"}},[t("pair-list-popover",{on:{close:e.toggleBookList}}),t("div",{attrs:{slot:"reference"},slot:"reference"},[t("div",{staticClass:"order-book-choose-pair"},[t("div",[e._v(e._s(e.t("orderBook.tokenPair")))]),t("div",{staticClass:"order-book-choose-btn"},[t("div",{staticClass:"order-book-pair-name"},[t("pair-token-logo",{attrs:{"first-token":e.baseAsset,"second-token":e.quoteAsset}}),e.baseAsset&&e.quoteAsset?t("span",[e._v(e._s(`${e.baseSymbol}-${e.quoteSymbol}`))]):e._e()],1),t("s-icon",{staticClass:"order-book-choose-btn-icon",attrs:{name:e.icon}})],1),t("div",{staticClass:"delimiter"}),t("div",{staticClass:"order-book-pair-data"},[t("div",{staticClass:"order-book-pair-data-item"},[t("span",[e._v(e._s(e.t("orderBook.price")))]),t("span",{staticClass:"order-book-pair-data-item__value order-book-fiat"},[t("formatted-amount",{attrs:{value:e.orderBookPrice}})],1)]),t("div",{staticClass:"order-book-pair-data-item"},[t("span",[e._v(e._s(e.t("orderBook.change")))]),t("span",{staticClass:"order-book-pair-data-item__value"},[t("price-change",{attrs:{value:e.orderBookPriceChange}})],1)]),t("div",{staticClass:"order-book-pair-data-item"},[t("span",[e._v(e._s(e.t("orderBook.dayVolume")))]),t("span",{staticClass:"order-book-pair-data-item__value"},[t("formatted-amount",{attrs:{value:e.orderBookVolume,"is-fiat-value":""}})],1)])])])])],1),t("s-tabs",{staticClass:"order-book__tab",attrs:{type:"rounded"},on:{click:e.handleTabClick},model:{value:e.limitOrderType,callback:function(t){e.limitOrderType=t},expression:"limitOrderType"}},[t("s-tab",{attrs:{label:"limit",name:"limit"}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("span",[e._v(e._s(e.t("orderBook.limit")))]),t("s-tooltip",{attrs:{slot:"suffix","border-radius":"mini",content:e.t("orderBook.tooltip.limitOrder"),placement:"top",tabindex:"-1"},slot:"suffix"},[t("s-icon",{attrs:{name:"info-16",size:"14px"}})],1)],1)]),t("s-tab",{attrs:{label:"market",name:"market",disabled:e.marketOptionDisabled}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("span",[e._v(e._s(e.t("orderBook.market")))]),t("s-tooltip",{attrs:{slot:"suffix","border-radius":"mini",content:e.t("orderBook.tooltip.marketOrder"),placement:"top",tabindex:"-1"},slot:"suffix"},[t("s-icon",{attrs:{name:"info-16",size:"14px"}})],1)],1)])],1),t("token-input",{staticClass:"order-book-input",attrs:{balance:e.getTokenBalance(e.quoteAsset),"is-max-available":!1,title:e.t("orderBook.price"),token:e.quoteAsset,value:e.quoteValue,disabled:e.isPriceInputDisabled},on:{input:e.handleInputFieldQuote}}),t("token-input",{staticClass:"order-book-input s-input--with-slider",attrs:{balance:e.getTokenBalance(e.baseAsset),"is-max-available":e.isMaxAmountAvailable,"with-slider":e.isSliderAvailable,title:e.t("orderBook.amount"),token:e.baseAsset,value:e.baseValue,"slider-value":e.sliderValue},on:{slide:e.handleSlideInputChange,input:e.handleInputFieldBase,max:e.handleMaxValue}}),t("div",{staticClass:"order-book-total"},[t("info-line",{staticClass:"total-line",attrs:{label:e.t(`orderBook.${e.side}`),value:e.formattedAmountAtPrice}}),t("info-line",{staticClass:"total-line",attrs:{label:e.t("orderBook.total"),value:e.formattedTotal,"asset-symbol":e.quoteSymbol}})],1),t("el-popover",{attrs:{"popper-class":"book-validation__popover",trigger:"hover","visible-arrow":!1}},[e.shouldErrorTooltipBeShown?t("div",{staticClass:"book-validation"},[t("div",{staticClass:"book-validation__disclaimer"},[t("h4",{staticClass:"book-validation__disclaimer-header"},[e._v(" "+e._s(e.reason)+" ")]),t("p",{staticClass:"book-validation__disclaimer-paragraph"},[e._v(" "+e._s(e.reading)+" ")]),t("div",{staticClass:"book-validation__disclaimer-warning icon"},[t("s-icon",{attrs:{name:"notifications-alert-triangle-24",size:"28px"}})],1)])]):e._e(),e.buttonDisabled?t("s-button",{staticClass:"btn s-typography-button--medium",class:e.computedBtnClass,attrs:{slot:"reference",type:"primary",disabled:e.buttonDisabled},on:{click:e.handleOrderPlacement},slot:"reference"},[e.bookStopped?[e._v(" "+e._s(e.t("orderBook.stop"))+" ")]:e.userReachedSpotLimit||e.userReachedOwnLimit?[t("error")]:e.isLimitOrder&&!e.quoteValue?[e._v(e._s(e.t("orderBook.setPrice")))]:e.isBalanceLessThanStepSize?[t("error")]:!e.isLimitOrder||e.baseValue&&!e.isZeroAmount?e.isLimitOrder&&!e.isPriceBeyondPrecision||e.isLimitOrder&&e.isPlaceAndCancelMode&&e.priceExceedsSpread||e.isLimitOrder&&e.limitForSinglePriceReached?[t("error")]:!e.isLimitOrder&&e.isZeroAmount?[e._v(" "+e._s(e.t("orderBook.enterAmount")))]:e.isLimitOrder||e.marketQuotePrice?e.isOutOfAmountBounds?[t("error")]:e.isInsufficientXorForFee?[e._v(" "+e._s(e.t("insufficientBalanceText",{tokenSymbol:e.xor?.symbol}))+" ")]:e.isInsufficientBalance?[e._v(" "+e._s(e.t("insufficientBalanceText",{tokenSymbol:e.tokenFrom?.symbol}))+" ")]:e._e():[t("error")]:[e._v(" "+e._s(e.t("orderBook.enterAmount")))]],2):t("s-button",{staticClass:"btn s-typography-button--medium",class:e.computedBtnClass,attrs:{slot:"reference",type:"primary"},on:{click:e.handleOrderPlacement},slot:"reference"},[e.isLoggedIn?e.isBuySide?[e._v(" "+e._s(e.t("orderBook.Buy",{asset:e.baseAsset?.symbol}))+" ")]:[e._v(" "+e._s(e.t("orderBook.Sell",{asset:e.baseAsset?.symbol}))+" ")]:[e._v(" "+e._s(e.t("connectWalletText"))+" ")]],2)],1),!e.areTokensSelected||e.hasZeroAmount||e.hasExplainableError?e._e():t("place-transaction-details",{staticClass:"info-line-container",attrs:{"info-only":!1,"is-market-type":e.isMarketType}}),t("place-confirm",{attrs:{visible:e.confirmDialogVisibility,"is-insufficient-balance":e.isInsufficientBalance,"is-buy-side":e.isBuySide,"is-market-type":e.isMarketType},on:{"update:visible":function(t){e.confirmDialogVisibility=t},confirm:e.placeOrder}})],1)}),[],!1,null,"09ab379e",null).exports}}]);
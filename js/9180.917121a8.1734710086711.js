"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[9180],{19180:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var i=s(23166),a=s(97582),o=s(37981),n=s(69826),r=s(86424),d=s(89445),l=s(68282),u=s(69781),p=s(49053);let b=class extends((0,d.Wr)(r.tA.TransactionMixin,r.tA.DialogMixin,r.tA.FormattedAmountMixin)){constructor(...t){super(...t),(0,i.Z)(this,"xorSymbol",n.XOR.symbol),(0,i.Z)(this,"tokenInput",void 0),(0,i.Z)(this,"editableFiat",void 0),(0,i.Z)(this,"asset",void 0),(0,i.Z)(this,"networkFees",void 0),(0,i.Z)(this,"accountXor",void 0),(0,i.Z)(this,"value",""),(0,i.Z)(this,"address","")}async handleDialogVisibility(t){await this.$nextTick(),this.value="",this.address="",this.tokenInput?.focus()}get xorBalance(){return this.getFPNumberFromCodec(this.accountXor?.balance?.transferable??l.m8)}get tokenSymbol(){return this.asset.symbol}get title(){return`Mint ${this.tokenSymbol}`}get networkFee(){return this.networkFees[o.Operation.Mint]}get fpNetworkFee(){return this.getFPNumberFromCodec(this.networkFee)}get networkFeeFormatted(){return this.formatCodecNumber(this.networkFee)}get emptyValue(){return!+this.value}get isInsufficientXorForFee(){return this.xorBalance.sub(this.fpNetworkFee).isLtZero()}get emptyAddress(){return!this.address.trim()}get validAddress(){return!this.emptyAddress&&r.hi.validateAddress(this.address)}get disabled(){return this.loading||this.isInsufficientXorForFee||this.emptyValue||!this.validAddress}async handleMint(){try{await this.withNotifications((async()=>{await r.hi.assets.mint(this.asset,this.value,this.address.trim())}))}finally{this.isVisible=!1}}};(0,a.gn)([(0,d.Rl)("tokenInput")],b.prototype,"tokenInput",void 0),(0,a.gn)([(0,d.fI)({default:!1,type:Boolean})],b.prototype,"editableFiat",void 0),(0,a.gn)([(0,d.fI)({default:l.u8,type:Object})],b.prototype,"asset",void 0),(0,a.gn)([p.SB.wallet.settings.networkFees],b.prototype,"networkFees",void 0),(0,a.gn)([p.Yn.assets.xor],b.prototype,"accountXor",void 0),(0,a.gn)([(0,d.RL)("visible")],b.prototype,"handleDialogVisibility",null),b=(0,a.gn)([(0,d.wA)({components:{DialogBase:r.wx.DialogBase,InfoLine:r.wx.InfoLine,AddressBookInput:r.wx.AddressBookInput,TokenInput:(0,u.kF)(l.z8.TokenInput)}})],b);var c=b,h=(0,s(1001).Z)(c,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("dialog-base",{attrs:{title:t.title,visible:t.isVisible,tooltip:"COMING SOON..."},on:{"update:visible":function(e){t.isVisible=e}}},[e("div",{staticClass:"dashboard-mint"},[e("address-book-input",{staticClass:"dashboard-mint__address",attrs:{"is-valid":t.validAddress,disabled:t.loading},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),e("p",{staticClass:"p3 dashboard-mint__text"},[t._v(" ENTER THE AMOUNT YOU WANT TO MINT "),e("s-tooltip",{attrs:{slot:"suffix","border-radius":"mini",content:"COMING SOON...",placement:"top",tabindex:"-1"},slot:"suffix"},[e("s-icon",{attrs:{name:"info-16",size:"14px"}})],1)],1),e("token-input",{ref:"tokenInput",staticClass:"dashboard-mint__token-input",attrs:{title:"AMOUNT","is-fiat-editable":t.editableFiat,token:t.asset,disabled:t.loading},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),e("s-button",{staticClass:"s-typography-button--large action-button dashboard-mint__button",attrs:{type:"primary",disabled:t.disabled},on:{click:t.handleMint}},[t.isInsufficientXorForFee?[t._v(" "+t._s(t.t("insufficientBalanceText",{tokenSymbol:t.xorSymbol}))+" ")]:t.emptyAddress?[t._v(" "+t._s(t.t("walletSend.enterAddress"))+" ")]:t.validAddress?t.emptyValue?[t._v(" "+t._s(t.t("buttons.enterAmount"))+" ")]:[t._v(t._s(t.title))]:[t._v(" "+t._s(t.t("walletSend.badAddress"))+" ")]],2),e("info-line",{attrs:{label:t.t("networkFeeText"),"label-tooltip":t.t("networkFeeTooltipText"),value:t.networkFeeFormatted,"asset-symbol":t.xorSymbol,"fiat-value":t.getFiatAmountByCodecString(t.networkFee),"is-formatted":""}})],1)])}),[],!1,null,"b4dedd78",null).exports}}]);
"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[4763],{94763:function(e,t,o){o.r(t),o.d(t,{default:function(){return v}});var i=o(23166),a=o(97582),s=o(86424),l=o(89445),r=o(68282),n=o(69781),d=o(49053),c=o(19316),u=o(46697),p=o(81101);let g=class extends((0,l.Wr)(p.Z,s.tA.TransactionMixin)){constructor(...e){super(...e),(0,i.Z)(this,"accountLiquidity",void 0)}get selectedAccountLiquidity(){return this.accountLiquidity.find((e=>e.firstAddress===this.baseAsset&&e.secondAddress===this.poolAsset))??null}get selectedDerivedPool(){return this.selectedPool?this.prepareDerivedPoolData(this.selectedPool,this.selectedAccountPool,this.selectedAccountLiquidity):null}get farmingPoolsByLiquidities(){return this.accountLiquidity.reduce(((e,t)=>{const o=this.getLiquidityKey(t),i=this.getDerivedPools(this.pools[t.firstAddress]?.[t.secondAddress]);return e[o]=i.map((e=>this.prepareDerivedPoolData(e.pool,e.accountPool,t))),e}),{})}getLiquidityFarmingPools(e){return this.farmingPoolsByLiquidities[this.getLiquidityKey(e)]??[]}getLiquidityKey(e){return[e.firstAddress,e.secondAddress].join(";")}};(0,a.gn)([d.SB.pool.accountLiquidity],g.prototype,"accountLiquidity",void 0),g=(0,a.gn)([(0,l.wA)({inheritAttrs:!1,components:{PoolBase:(0,n.JE)(r.sn.Pool),PoolCard:(0,c.Y)(u.o.PoolCard),StatusBadge:(0,c.Y)(u.o.StatusBadge),StakeDialog:(0,c.Y)(u.o.StakeDialog),ClaimDialog:(0,c.Y)(u.o.ClaimDialog),CalculatorDialog:(0,c.Y)(u.o.CalculatorDialog)}})],g);var h=g,v=(0,o(1001).Z)(h,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("pool-base",e._g(e._b({scopedSlots:e._u([{key:"title-append",fn:function({liquidity:o,activeCollapseItems:i}){return[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isActiveCollapseItem(o.address,i),expression:"!isActiveCollapseItem(liquidity.address, activeCollapseItems)"}],staticClass:"s-flex farming-pool-badges"},e._l(e.getLiquidityFarmingPools(o),(function(i,a){return t("status-badge",{key:`${i.pool.poolAsset}-${i.pool.rewardAsset}-${a}`,staticClass:"farming-pool-badge",attrs:{liquidity:o,pool:i.pool,"account-pool":i.accountPool,"pool-asset":i.poolAsset,"reward-asset":i.rewardAsset,apr:i.apr},on:{add:function(t){return e.changePoolStake(t,!0)}}})})),1)]}},{key:"append",fn:function({liquidity:o,activeCollapseItems:i}){return[e.isActiveCollapseItem(o.address,i)?e._l(e.getLiquidityFarmingPools(o),(function(i,a){return t("pool-card",{key:`${i.pool.poolAsset}-${i.pool.rewardAsset}-${a}`,staticClass:"demeter-pool",attrs:{liquidity:o,pool:i.pool,"account-pool":i.accountPool,"base-asset":i.baseAsset,"pool-asset":i.poolAsset,"reward-asset":i.rewardAsset,apr:i.apr,tvl:i.tvl,border:""},on:{add:function(t){return e.changePoolStake(t,!0)},remove:function(t){return e.changePoolStake(t,!1)},claim:e.claimPoolRewards,calculator:e.showPoolCalculator}})})):e._e()]}}])},"pool-base",{parentLoading:e.parentLoading,...e.$attrs},!1),e.$listeners)),t("stake-dialog",e._b({attrs:{visible:e.showStakeDialog,"is-adding":e.isAddingStake,liquidity:e.selectedAccountLiquidity,"parent-loading":e.parentLoading||e.loading},on:{"update:visible":function(t){e.showStakeDialog=t},add:function(t){return e.handleStakeAction(t,e.deposit)},remove:function(t){return e.handleStakeAction(t,e.withdraw)}}},"stake-dialog",e.selectedDerivedPool,!1)),t("claim-dialog",e._b({attrs:{visible:e.showClaimDialog,"parent-loading":e.parentLoading||e.loading},on:{"update:visible":function(t){e.showClaimDialog=t},confirm:e.handleClaimRewards}},"claim-dialog",e.selectedDerivedPool,!1)),t("calculator-dialog",e._b({attrs:{visible:e.showCalculatorDialog,liquidity:e.selectedAccountLiquidity},on:{"update:visible":function(t){e.showCalculatorDialog=t}}},"calculator-dialog",e.selectedDerivedPool,!1))],1)}),[],!1,null,"a6884caa",null).exports}}]);
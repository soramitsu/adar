"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[709],{30709:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});var a=s(23166),o=(s(70560),s(97582)),r=s(37981),n=s(86424),i=s(27484),l=s.n(i),u=s(89445),d=s(40535),p=s(25e3),m=s(68282),c=s(69781),f=s(49053),g=s(50961);let k=class extends((0,u.Wr)(p.Z,d.Z)){constructor(...t){super(...t),(0,a.Z)(this,"soraNetwork",void 0),(0,a.Z)(this,"tokenFrom",void 0),(0,a.Z)(this,"tokenTo",void 0),(0,a.Z)(this,"assetsDataTable",void 0),(0,a.Z)(this,"pageAmount",5),(0,a.Z)(this,"operations",[r.Operation.Swap]),(0,a.Z)(this,"fromTimestamp",l()().subtract(1,"month").startOf("day").unix())}resetData(t,e){this.checkTriggerUpdate(t,e)}get tableItems(){return this.items.map((t=>{const e=t.id??"",s=t.blockId??"",a=t.from??"",o=t.assetAddress?this.assetsDataTable[t.assetAddress]:null,n=o?.symbol??"??",i=t.asset2Address?this.assetsDataTable[t.asset2Address]:null,u=i?.symbol??"??",d=(0,g.iL)(new r.FPNumber(t.amount??0)),p=(0,g.iL)(new r.FPNumber(t.amount2??0)),m=l()(t.startTime),c=(0,g.$1)(this.soraNetwork,e,s);return{address:a,inputAsset:o,inputAssetSymbol:n,outputAsset:i,outputAssetSymbol:u,inputAmount:d,outputAmount:p,datetime:{date:m.format("M/DD"),time:m.format("HH:mm:ss")},links:c}}))}get assetsAddresses(){return[this.tokenFrom,this.tokenTo].filter((t=>!!t)).map((t=>t.address)).sort(((t,e)=>t<e?-1:t>e?1:0))}createFilter(t){const e=(0,n.HZ)(),{operations:s,tokenFrom:a,tokenTo:o}=this,r=a?.address,i=o?.address?[o.address]:[];return e.historyElementsFilter({operations:s,assetAddress:r,timestamp:t,query:{assetsAddresses:i}})}get dataVariables(){return{filter:this.createFilter(this.fromTimestamp),first:this.pageAmount,offset:this.pageAmount*(this.currentPage-1)}}get updateVariables(){return{filter:this.createFilter(this.intervalTimestamp)}}getItemTimestamp(t){return t?.startTime??0}async requestData(t){const e=(0,n.HZ)(),s=await e.services.explorer.account.getHistory(t);if(!s)return{items:[],totalCount:0};const{nodes:a,totalCount:o}=s,r=[];for(const t of a){const s=await e.services.dataParser.parseTransactionAsHistoryItem(t);s&&r.push(s)}return{items:r,totalCount:o}}};(0,o.gn)([f.SB.wallet.settings.soraNetwork],k.prototype,"soraNetwork",void 0),(0,o.gn)([f.Yn.swap.tokenFrom],k.prototype,"tokenFrom",void 0),(0,o.gn)([f.Yn.swap.tokenTo],k.prototype,"tokenTo",void 0),(0,o.gn)([f.Yn.wallet.account.assetsDataTable],k.prototype,"assetsDataTable",void 0),(0,o.gn)([(0,u.RL)("assetsAddresses",{immediate:!0})],k.prototype,"resetData",null),k=(0,o.gn)([(0,u.wA)({components:{BaseWidget:(0,c.kF)(m.z8.BaseWidget),LinksDropdown:(0,c.kF)(m.z8.LinksDropdown),TokenLogo:n.wx.TokenLogo,FormattedAmount:n.wx.FormattedAmount,FormattedAddress:n.wx.FormattedAddress,HistoryPagination:n.wx.HistoryPagination}})],k);var h=k,b=(0,s(1001).Z)(h,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("base-widget",t._b({staticClass:"swap-transactions-widget",attrs:{title:t.tc("transactionText",2)}},"base-widget",t.$attrs,!1),[e("s-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticClass:"explore-table",attrs:{data:t.tableItems,"highlight-current-row":!1,size:"small"}},[e("s-table-column",{attrs:{width:"74"},scopedSlots:t._u([{key:"header",fn:function(){return[e("span",[t._v(t._s(t.t("transaction.startTime")))])]},proxy:!0},{key:"default",fn:function({row:s}){return[e("div",{staticClass:"explore-table-item-date"},[e("div",[t._v(t._s(s.datetime.date))]),e("div",[t._v(t._s(s.datetime.time))])])]}}])}),e("s-table-column",{attrs:{"header-align":"right",align:"right"},scopedSlots:t._u([{key:"header",fn:function(){return[e("span",[t._v(t._s(t.t("removeLiquidity.input")))])]},proxy:!0},{key:"default",fn:function({row:s}){return[e("formatted-amount",{staticClass:"explore-table-item-token",attrs:{"font-size-rate":t.FontSizeRate.SMALL,value:s.inputAmount}})]}}])}),e("s-table-column",{attrs:{"header-align":"left",align:"left"},scopedSlots:t._u([{key:"header",fn:function(){return[e("span",[t._v(t._s(t.t("removeLiquidity.output")))])]},proxy:!0},{key:"default",fn:function({row:s}){return[e("formatted-amount",{staticClass:"explore-table-item-token",attrs:{"font-size-rate":t.FontSizeRate.SMALL,value:s.outputAmount}})]}}])}),e("s-table-column",{attrs:{"header-align":"left",align:"left"},scopedSlots:t._u([{key:"header",fn:function(){return[e("span",[t._v(t._s(t.t("transfers.from")))])]},proxy:!0},{key:"default",fn:function({row:s}){return[e("div",{staticClass:"explore-table-cell"},[e("token-logo",{staticClass:"explore-table-item-logo explore-table-item-logo--plain",attrs:{size:"small",token:s.inputAsset}}),e("span",{staticClass:"explore-table-item-token"},[t._v(t._s(s.inputAssetSymbol))])],1)]}}])}),e("s-table-column",{attrs:{"header-align":"left",align:"left"},scopedSlots:t._u([{key:"header",fn:function(){return[e("span",[t._v(t._s(t.t("transfers.to")))])]},proxy:!0},{key:"default",fn:function({row:s}){return[e("div",{staticClass:"explore-table-cell"},[e("token-logo",{staticClass:"explore-table-item-logo explore-table-item-logo--plain",attrs:{size:"small",token:s.outputAsset}}),e("span",{staticClass:"explore-table-item-token"},[t._v(t._s(s.outputAssetSymbol))])],1)]}}])}),e("s-table-column",{attrs:{width:"94"},scopedSlots:t._u([{key:"header",fn:function(){return[e("span",[t._v(t._s(t.tc("accountText",1)))])]},proxy:!0},{key:"default",fn:function({row:t}){return[e("formatted-address",{attrs:{value:t.address,symbols:8}})]}}])}),e("s-table-column",{attrs:{width:"48","header-align":"center"},scopedSlots:t._u([{key:"header",fn:function(){return[e("s-icon",{attrs:{name:"basic-eye-no-24",size:"16px"}})]},proxy:!0},{key:"default",fn:function({row:s}){return[s.links.length?e("links-dropdown",{attrs:{links:s.links}}):t._e()]}}])})],1),e("history-pagination",{staticClass:"explore-table-pagination",attrs:{"current-page":t.currentPage,"page-amount":t.pageAmount,total:t.total,loading:t.loading,"last-page":t.lastPage},on:{"pagination-click":t.onPaginationClick}})],1)}),[],!1,null,"167e0536",null).exports}}]);
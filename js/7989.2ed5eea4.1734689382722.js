"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[7989],{97989:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var o=s(23166),a=(s(70560),s(97582)),i=s(86424),n=s(89445),l=s(36113),r=s(95619),d=s(68282),c=s(69781),u=s(49053),p=s(50961);let m=class extends((0,n.Wr)(i.tA.FormattedAmountMixin,i.tA.LoadingMixin,l.Z,r.Z)){constructor(...t){super(...t),(0,o.Z)(this,"FontSizeRate",i.WALLET_CONSTS.FontSizeRate),(0,o.Z)(this,"FontWeightRate",i.WALLET_CONSTS.FontWeightRate),(0,o.Z)(this,"accountLiquidity",void 0),(0,o.Z)(this,"getAsset",void 0),(0,o.Z)(this,"whitelistIdsBySymbol",void 0),(0,o.Z)(this,"activeCollapseItems",[])}get accountLiquidityData(){return[...this.accountLiquidity.map((t=>{const e=this.getAsset(t.firstAddress),s=this.getAssetSymbol(e),o=this.getAsset(t.secondAddress),a=this.getAssetSymbol(o);return{...t,firstAsset:e,firstAssetSymbol:s,firstBalanceFormatted:this.formatCodecNumber(t.firstBalance,t.decimals),firstBalanceFiat:e?this.getFiatAmountByCodecString(t.firstBalance,e):"0",secondAsset:o,secondAssetSymbol:a,secondBalanceFormatted:this.formatCodecNumber(t.secondBalance,t.decimals),secondBalanceFiat:o?this.getFiatAmountByCodecString(t.secondBalance,o):"0",poolShareFormatted:`${this.formatStringValue(t.poolShare)}%`,apyFormatted:this.getStrategicBonusApy(t.firstAddress,t.secondAddress),title:this.getPairTitle(s,a)}}))].sort(((t,e)=>(0,p.s$)({baseAsset:t.firstAsset,poolAsset:t.secondAsset},{baseAsset:e.firstAsset,poolAsset:e.secondAsset})))}updateActiveCollapseItems(t){this.activeCollapseItems=t}getRouteParams(t){const e=t.firstAssetSymbol??"",s=t.secondAssetSymbol??"";return{first:this.whitelistIdsBySymbol[e]?e:t.firstAddress,second:this.whitelistIdsBySymbol[s]?s:t.secondAddress}}handleAddLiquidity(t){t?c.ZP.push({name:d.sn.AddLiquidity,params:this.getRouteParams(t)}):c.ZP.push({name:d.sn.AddLiquidity})}handleRemoveLiquidity(t){c.ZP.push({name:d.sn.RemoveLiquidity,params:this.getRouteParams(t)})}getAssetSymbol(t){return t?.symbol??this.t("unknownAssetText")}getPairTitle(t,e){return t&&e?`${t}-${e}`:""}getStrategicBonusApy(t,e){const s=this.getPoolApy(t,e);return s?`${this.getFPNumberFromCodec(s).mul(this.Hundred).toLocaleString()}%`:""}};(0,a.gn)([u.SB.pool.accountLiquidity],m.prototype,"accountLiquidity",void 0),(0,a.gn)([u.Yn.assets.assetDataByAddress],m.prototype,"getAsset",void 0),(0,a.gn)([u.Yn.wallet.account.whitelistIdsBySymbol],m.prototype,"whitelistIdsBySymbol",void 0),m=(0,a.gn)([(0,n.wA)({components:{GenericPageHeader:(0,c.kF)(d.z8.GenericPageHeader),PairTokenLogo:(0,c.kF)(d.z8.PairTokenLogo),PoolInfo:(0,c.kF)(d.z8.PoolInfo),FormattedAmount:i.wx.FormattedAmount,InfoLine:i.wx.InfoLine}})],m);var y=m,g=(0,s(1001).Z)(y,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.parentLoading,expression:"parentLoading"}],staticClass:"container el-form--pool"},[e("generic-page-header",{staticClass:"page-header--pool",attrs:{title:t.t("exchange.Pool"),tooltip:t.t("pool.description")}}),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.parentLoading,expression:"parentLoading"}],staticClass:"pool-wrapper",attrs:{"data-test-name":"Pools"}},[t.isLoggedIn?!t.accountLiquidity.length||t.parentLoading?e("p",{key:"pools-empty",staticClass:"pool-info-container pool-info-container--empty"},[t._v(" "+t._s(t.t("pool.liquidityNotFound"))+" ")]):e("s-collapse",{key:"has-pools",staticClass:"pool-list",attrs:{borders:!0},on:{change:t.updateActiveCollapseItems}},t._l(t.accountLiquidityData,(function(s){return e("s-collapse-item",{key:s.address,staticClass:"pool-info-container",attrs:{name:s.address},scopedSlots:t._u([{key:"title",fn:function(){return[e("pair-token-logo",{attrs:{"first-token":s.firstAsset,"second-token":s.secondAsset,size:"small"}}),e("div",{staticClass:"pool-info-container-block"},[e("h3",{staticClass:"pool-info-container__title"},[t._v(" "+t._s(s.title)+" ")]),t._t("title-append",null,null,{liquidity:s,activeCollapseItems:t.activeCollapseItems})],2)]},proxy:!0}],null,!0)},[e("pool-info",{scopedSlots:t._u([{key:"buttons",fn:function(){return[e("s-button",{staticClass:"s-typography-button--medium",attrs:{type:"secondary","data-test-name":"addLiquidity"},on:{click:function(e){return t.handleAddLiquidity(s)}}},[t._v(" "+t._s(t.t("pool.addLiquidity"))+" ")]),e("s-button",{staticClass:"s-typography-button--medium",attrs:{type:"secondary","data-test-name":"removeLiquidity"},on:{click:function(e){return t.handleRemoveLiquidity(s)}}},[t._v(" "+t._s(t.t("pool.removeLiquidity"))+" ")])]},proxy:!0}],null,!0)},[e("info-line",{attrs:{"is-formatted":"","value-can-be-hidden":"",label:t.t("pool.pooledToken",{tokenSymbol:s.firstAssetSymbol}),value:s.firstBalanceFormatted,"fiat-value":s.firstBalanceFiat}}),e("info-line",{attrs:{"is-formatted":"","value-can-be-hidden":"",label:t.t("pool.pooledToken",{tokenSymbol:s.secondAssetSymbol}),value:s.secondBalanceFormatted,"fiat-value":s.secondBalanceFiat}}),e("info-line",{attrs:{"value-can-be-hidden":"",label:t.t("pool.poolShare"),value:s.poolShareFormatted}}),s.apyFormatted?e("info-line",{attrs:{label:t.t("pool.strategicBonusApy"),value:s.apyFormatted}}):t._e()],1),t._t("append",null,null,{liquidity:s,activeCollapseItems:t.activeCollapseItems})],2)})),1):e("p",{key:"not-logged",staticClass:"pool-info-container pool-info-container--empty"},[t._v(" "+t._s(t.t("pool.connectToWallet"))+" ")])],1),t.isLoggedIn?e("s-button",{staticClass:"el-button--add-liquidity s-typography-button--large",attrs:{"data-test-name":"addLiquidity",type:"primary"},on:{click:function(e){return t.handleAddLiquidity()}}},[t._v(" "+t._s(t.t("pool.addLiquidity"))+" ")]):e("s-button",{staticClass:"s-typography-button--large",attrs:{type:"primary"},on:{click:t.connectSoraWallet}},[t._v(" "+t._s(t.t("connectWalletText"))+" ")])],1)}),[],!1,null,"3d12a356",null).exports}}]);
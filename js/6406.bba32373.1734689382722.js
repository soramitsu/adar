"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[6406,277],{17075:function(s,t,e){e.r(t),e.d(t,{default:function(){return f}});var a=e(23166),i=e(97582),o=e(37981),r=e(69826),l=e(86424),n=e(89445),d=e(49053),u=e(67317),c=e(88368);const m={name:"",wallet:"",asset:r.XOR,amount:"0",id:"",usd:"0"};let g=class extends((0,n.Wr)(l.tA.TransactionMixin,l.tA.DialogMixin,l.tA.FormattedAmountMixin)){constructor(...s){super(...s),(0,a.Z)(this,"editRecipient",void 0),(0,a.Z)(this,"deleteRecipient",void 0),(0,a.Z)(this,"recipient",void 0),(0,a.Z)(this,"currentIssueIdx",void 0),(0,a.Z)(this,"totalIssuesCount",void 0),(0,a.Z)(this,"delimiters",o.FPNumber.DELIMITERS_CONFIG),(0,a.Z)(this,"model",{...m})}resetState(){this.model={...m}}get assetSymbol(){return this.model.asset?.symbol}get amount(){return this.localTokenAmount}get walletError(){return!l.hi.validateAddress(this.model.wallet)}get usdError(){return u.ZP.usd(this.model.usd)?null:`${this.t("adar.routeAssets.dialogs.fixIssuesDialog.usdError")}`}get amountError(){return u.ZP.amount(this.model.amount)?"":`${this.t("adar.routeAssets.dialogs.fixIssuesDialog.amountError")}`}get amountInTokens(){return this.recipient?.amountInTokens}changeIssueIdx(s){const t=this.currentIssueIdx+s;t>=this.totalIssuesCount||t<0||this.$emit("changeIssueIdx",t)}get localTokenAmount(){return this.formatStringValue(this.model.amount,4)}get assetUSDPrice(){return this.model.asset?.address?o.FPNumber.fromCodecValue(this.fiatPriceObject[this.model.asset.address]??0,this.model.asset.decimals).dp(8).toString():0}get submitIsDisabled(){return!u.ZP.validate(this.model)}onUsdChanged(s){this.model.usd=s,this.model.amount=new o.FPNumber(this.model.usd).div(new o.FPNumber(this.assetUSDPrice)).toString()}onAmountChanged(s){this.model.amount=s,this.model.usd=new o.FPNumber(s).mul(new o.FPNumber(this.assetUSDPrice)).toString()}onDeleteClick(){this.deleteRecipient(this.recipient.id)}onSaveClick(){this.editRecipient({name:this.model.name,wallet:this.model.wallet,usd:new o.FPNumber(this.model.usd),id:this.recipient.id,asset:this.model.asset,amount:new o.FPNumber(this.model.amount)}),this.$nextTick((()=>{this.reloadRecipient()}))}reloadRecipient(){Object.assign(this.model,this.recipient)}mounted(){this.reloadRecipient()}};(0,i.gn)([d.aD.routeAssets.editRecipient],g.prototype,"editRecipient",void 0),(0,i.gn)([d.aD.routeAssets.deleteRecipient],g.prototype,"deleteRecipient",void 0),(0,i.gn)([(0,n.fI)()],g.prototype,"recipient",void 0),(0,i.gn)([(0,n.fI)()],g.prototype,"currentIssueIdx",void 0),(0,i.gn)([(0,n.fI)()],g.prototype,"totalIssuesCount",void 0),g=(0,i.gn)([(0,n.wA)({components:{DialogBase:l.wx.DialogBase,TokenLogo:l.wx.TokenLogo,WarningMessage:c.default}})],g);var p=g,h=(0,e(1001).Z)(p,(function(){var s=this,t=s._self._c;s._self._setupProxy;return t("div",{staticClass:"fix-issues-dialog"},[t("dialog-base",{attrs:{visible:s.isVisible,title:s.t("adar.routeAssets.dialogs.fixIssuesDialog.title"),"custom-class":"dialog__fix-issues"},on:{"update:visible":function(t){s.isVisible=t}}},[t("div",{staticClass:"issues-iterator"},[t("button",{on:{click:function(t){return s.changeIssueIdx(-1)}}},[t("s-icon",{staticClass:"icon-status",attrs:{name:"chevron-left-16"}})],1),t("div",[s._v(" "+s._s(`${s.t("adar.routeAssets.dialogs.fixIssuesDialog.issue")} ${s.currentIssueIdx+1}/${s.totalIssuesCount}`)+" ")]),t("button",{on:{click:function(t){return s.changeIssueIdx(1)}}},[t("s-icon",{staticClass:"icon-status",attrs:{name:"chevron-right-16"}})],1)]),t("s-form",{staticClass:"kyc-form",attrs:{model:s.model}},[t("s-form-item",{attrs:{prop:"name"}},[t("s-input",{attrs:{placeholder:s.t("adar.routeAssets.dialogs.fixIssuesDialog.recipient")},model:{value:s.model.name,callback:function(t){s.$set(s.model,"name",t)},expression:"model.name"}})],1),t("s-form-item",{attrs:{prop:"wallet"}},[t("s-input",{attrs:{placeholder:s.t("adar.routeAssets.wallet")},model:{value:s.model.wallet,callback:function(t){s.$set(s.model,"wallet",t)},expression:"model.wallet"}}),t("div",{staticClass:"error-message",class:s.walletError?"error-message_invalid":"error-message_valid"},[t("div",[s._v(" "+s._s(`${s.t("adar.routeAssets.dialogs.fixIssuesDialog.walletAddress")} ${s.walletError?`${s.t("adar.routeAssets.dialogs.fixIssuesDialog.fieldStatusIncorrect")}`:`${s.t("adar.routeAssets.dialogs.fixIssuesDialog.fieldStatusCorrect")}`}`)+" ")]),t("div",[t("s-icon",{staticClass:"icon-status",attrs:{name:s.walletError?"basic-clear-X-xs-24":"basic-check-marks-24"}})],1)])],1),s.amountInTokens?t("s-form-item",{attrs:{prop:"amount"}},[t("s-float-input",{attrs:{"has-locale-string":"",placeholder:`${s.t("adar.routeAssets.dialogs.fixIssuesDialog.amount")}`,value:s.model.amount,delimiters:s.delimiters},on:{input:function(t){return s.onAmountChanged(t)}}}),t("div",{staticClass:"error-message",class:s.amountError?"error-message_invalid":"error-message_valid"},[t("div",[s._v(" "+s._s(`${s.t("adar.routeAssets.dialogs.fixIssuesDialog.amount")} ${s.amountError?`${s.t("adar.routeAssets.dialogs.fixIssuesDialog.fieldStatusIncorrect")}`:`${s.t("adar.routeAssets.dialogs.fixIssuesDialog.fieldStatusCorrect")}`}`)+" ")]),t("div",[t("s-icon",{staticClass:"icon-status",attrs:{name:s.amountError?"basic-clear-X-xs-24":"basic-check-marks-24"}})],1)])],1):t("s-form-item",{attrs:{prop:"usd"}},[t("s-float-input",{attrs:{"has-locale-string":"",placeholder:`${s.t("adar.routeAssets.usd")}`,value:s.model.usd,delimiters:s.delimiters},on:{input:function(t){return s.onUsdChanged(t)}}}),t("div",{staticClass:"error-message",class:s.usdError?"error-message_invalid":"error-message_valid"},[t("div",[s._v(" "+s._s(`${s.t("adar.routeAssets.dialogs.fixIssuesDialog.usd")} ${s.usdError?`${s.t("adar.routeAssets.dialogs.fixIssuesDialog.fieldStatusIncorrect")}`:`${s.t("adar.routeAssets.dialogs.fixIssuesDialog.fieldStatusCorrect")}`}`)+" ")]),t("div",[t("s-icon",{staticClass:"icon-status",attrs:{name:s.usdError?"basic-clear-X-xs-24":"basic-check-marks-24"}})],1)])],1)],1),t("div",{staticClass:"field"},[t("p",{staticClass:"field__label"},[s._v(s._s(`${s.t("adar.routeAssets.asset")}`))]),t("div",{staticClass:"field__status"},[t("div",[s._v(s._s(s.assetSymbol))]),t("div",[t("token-logo",{staticClass:"token-logo",attrs:{token:s.model.asset}})],1)])]),t("s-divider"),t("div",{staticClass:"field"},[t("p",{staticClass:"field__label"},[s._v(s._s(`${s.t("adar.routeAssets.dialogs.fixIssuesDialog.estimatedAmount")}`))]),t("div",{staticClass:"field__status"},[t("div",[s._v(s._s(s.amount))]),t("div",[s._v(s._s(s.assetSymbol))]),t("div",[t("token-logo",{staticClass:"token-logo",attrs:{token:s.model.asset}})],1)]),s.amountError?t("warning-message",{staticClass:"warning-message",attrs:{text:s.amountError,isError:s.amountError}}):s._e()],1),t("s-divider"),t("s-button",{staticClass:"s-typography-button--big browse-button",attrs:{type:"primary",disabled:s.submitIsDisabled},on:{click:function(t){return t.stopPropagation(),s.onSaveClick.apply(null,arguments)}}},[s._v(" "+s._s(`${s.t("adar.routeAssets.dialogs.fixIssuesDialog.fixButton")}`)+" ")]),t("s-button",{staticClass:"s-typography-button--big browse-button",attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),s.onDeleteClick.apply(null,arguments)}}},[s._v(" "+s._s(`${s.t("adar.routeAssets.dialogs.fixIssuesDialog.deleteButton")}`)+" ")])],1)],1)}),[],!1,null,"a1c10454",null),f=h.exports}}]);
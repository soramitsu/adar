"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[929],{10929:function(e,a,t){t.r(a),t.d(a,{default:function(){return v}});var s=t(60760),o=t(70655),l=t(53545),i=t(8755),n=t(57325),r=t(44973),c=t(52859),d=t(32806),u=t(80710),p=t(16546);let g=class extends((0,l.Wr)(n.Z,d.Z)){constructor(...e){super(...e),(0,s.Z)(this,"activeCollapseItems",[])}updateActiveCollapseItems(e){this.activeCollapseItems=e}get selectedDerivedPool(){return this.selectedPool?this.prepareDerivedPoolData(this.selectedPool,this.selectedAccountPool):null}get tokensData(){return Object.entries(this.pools).reduce(((e,[a,t])=>{const s=this.demeterAssetsData[a];if(!s)return e;const o=this.getDerivedPools(t?.[a]).map((e=>this.prepareDerivedPoolData(e.pool,e.accountPool)));return o.length?(e.push({asset:s,items:o}),e):e}),[])}};g=(0,o.__decorate)([(0,l.wA)({components:{GenericPageHeader:(0,u.kF)(p.z8.GenericPageHeader),PoolCard:(0,r.w)(c.J.PoolCard),StatusBadge:(0,r.w)(c.J.StatusBadge),StakeDialog:(0,r.w)(c.J.StakeDialog),ClaimDialog:(0,r.w)(c.J.ClaimDialog),CalculatorDialog:(0,r.w)(c.J.CalculatorDialog),TokenLogo:i.wx.TokenLogo}})],g);var m=g,v=(0,t(1001).Z)(m,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.parentLoading,expression:"parentLoading"}],staticClass:"container"},[t("generic-page-header",{attrs:{title:e.t("staking.title")}}),e.tokensData.length?e._e():t("s-card",{staticClass:"staking-empty-card",attrs:{shadow:"always",size:"big",primary:""}},[e._v(" "+e._s(e.t("demeterFarming.staking.stopped"))+" ")]),t("s-collapse",{staticClass:"demeter-staking-list",on:{change:e.updateActiveCollapseItems}},e._l(e.tokensData,(function(a){return t("s-collapse-item",{key:a.asset.address,staticClass:"staking-info",attrs:{name:a.asset.address},scopedSlots:e._u([{key:"title",fn:function(){return[t("token-logo",{staticClass:"token-logo",attrs:{token:a.asset,size:"medium"}}),t("div",[t("h3",{staticClass:"staking-info-title"},[e._v(e._s(a.asset.symbol))]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isActiveCollapseItem(a.asset.address,e.activeCollapseItems),expression:"!isActiveCollapseItem(token.asset.address, activeCollapseItems)"}],staticClass:"s-flex staking-info-badges"},e._l(a.items,(function(a){return t("status-badge",{key:a.pool.rewardAsset,staticClass:"staking-info-badge",attrs:{pool:a.pool,"account-pool":a.accountPool,"pool-asset":a.poolAsset,"reward-asset":a.rewardAsset,apr:a.apr},on:{add:function(a){return e.changePoolStake(a,!0)}}})})),1)])]},proxy:!0}],null,!0)},[e.isActiveCollapseItem(a.asset.address,e.activeCollapseItems)?e._l(a.items,(function(a){return t("pool-card",{key:a.pool.rewardAsset,staticClass:"staking-info-card",attrs:{pool:a.pool,"account-pool":a.accountPool,"base-asset":a.baseAsset,"pool-asset":a.poolAsset,"reward-asset":a.rewardAsset,apr:a.apr,tvl:a.tvl,"show-balance":""},on:{add:function(a){return e.changePoolStake(a,!0)},remove:function(a){return e.changePoolStake(a,!1)},claim:e.claimPoolRewards,calculator:e.showPoolCalculator}})})):e._e()],2)})),1),t("stake-dialog",e._b({attrs:{visible:e.showStakeDialog,"is-adding":e.isAddingStake,"parent-loading":e.parentLoading||e.loading},on:{"update:visible":function(a){e.showStakeDialog=a},add:function(a){return e.handleStakeAction(a,e.deposit)},remove:function(a){return e.handleStakeAction(a,e.withdraw)}}},"stake-dialog",e.selectedDerivedPool,!1)),t("claim-dialog",e._b({attrs:{visible:e.showClaimDialog,"parent-loading":e.parentLoading||e.loading},on:{"update:visible":function(a){e.showClaimDialog=a},confirm:e.handleClaimRewards}},"claim-dialog",e.selectedDerivedPool,!1)),t("calculator-dialog",e._b({attrs:{visible:e.showCalculatorDialog},on:{"update:visible":function(a){e.showCalculatorDialog=a}}},"calculator-dialog",e.selectedDerivedPool,!1))],1)}),[],!1,null,"92bbe4f0",null).exports}}]);
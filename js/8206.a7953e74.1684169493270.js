"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[8206],{78206:function(t,e,o){o.r(e),o.d(e,{default:function(){return y}});var s=o(60760),i=o(70655),a=o(53545),n=o(50576),l=o(32806),r=o(24380),d=o(80710),c=o(16546),u=o(74614);let p=class extends((0,a.Wr)(n.tA.FormattedAmountMixin,n.tA.LoadingMixin,l.Z,r.Z)){constructor(...t){super(...t),(0,s.Z)(this,"FontSizeRate",n.it.FontSizeRate),(0,s.Z)(this,"FontWeightRate",n.it.FontWeightRate),(0,s.Z)(this,"accountLiquidity",void 0),(0,s.Z)(this,"isLoggedIn",void 0),(0,s.Z)(this,"getAsset",void 0),(0,s.Z)(this,"whitelistIdsBySymbol",void 0),(0,s.Z)(this,"activeCollapseItems",[])}get accountLiquidityData(){return this.accountLiquidity.map((t=>{const e=this.getAsset(t.firstAddress),o=this.getAssetSymbol(e),s=this.getAsset(t.secondAddress),i=this.getAssetSymbol(s);return{...t,firstAsset:e,firstAssetSymbol:o,firstBalanceFormatted:this.formatCodecNumber(t.firstBalance,t.decimals),firstBalanceFiat:e?this.getFiatAmountByCodecString(t.firstBalance,e):"0",secondAsset:s,secondAssetSymbol:i,secondBalanceFormatted:this.formatCodecNumber(t.secondBalance,t.decimals),secondBalanceFiat:s?this.getFiatAmountByCodecString(t.secondBalance,s):"0",poolShareFormatted:`${this.formatStringValue(t.poolShare)}%`,apyFormatted:this.getStrategicBonusApy(t.firstAddress,t.secondAddress),title:this.getPairTitle(o,i)}}))}updateActiveCollapseItems(t){this.activeCollapseItems=t}getRouteParams(t){const e=t.firstAssetSymbol??"",o=t.secondAssetSymbol??"";return{first:this.whitelistIdsBySymbol[e]?e:t.firstAddress,second:this.whitelistIdsBySymbol[o]?o:t.secondAddress}}handleAddLiquidity(t){t?d.ZP.push({name:c.sn.AddLiquidity,params:this.getRouteParams(t)}):d.ZP.push({name:c.sn.AddLiquidity})}handleRemoveLiquidity(t){d.ZP.push({name:c.sn.RemoveLiquidity,params:this.getRouteParams(t)})}handleConnectWallet(){d.ZP.push({name:c.sn.Wallet})}getAssetSymbol(t){return t?.symbol??this.t("pool.unknownAsset")}getPairTitle(t,e){return t&&e?`${t}-${e}`:""}getStrategicBonusApy(t,e){const o=this.getPoolApy(t,e);return o?`${this.getFPNumberFromCodec(o).mul(this.Hundred).toLocaleString()}%`:""}};(0,i.__decorate)([u.SB.pool.accountLiquidity],p.prototype,"accountLiquidity",void 0),(0,i.__decorate)([u.Yn.wallet.account.isLoggedIn],p.prototype,"isLoggedIn",void 0),(0,i.__decorate)([u.Yn.assets.assetDataByAddress],p.prototype,"getAsset",void 0),(0,i.__decorate)([u.Yn.wallet.account.whitelistIdsBySymbol],p.prototype,"whitelistIdsBySymbol",void 0),p=(0,i.__decorate)([(0,a.wA)({components:{GenericPageHeader:(0,d.kF)(c.z8.GenericPageHeader),PairTokenLogo:(0,d.kF)(c.z8.PairTokenLogo),PoolInfo:(0,d.kF)(c.z8.PoolInfo),FormattedAmount:n.wx.FormattedAmount,InfoLine:n.wx.InfoLine}})],p);var m=p,y=(0,o(1001).Z)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.parentLoading,expression:"parentLoading"}],staticClass:"container el-form--pool"},[o("generic-page-header",{staticClass:"page-header--pool",attrs:{title:t.t("exchange.Pool"),tooltip:t.t("pool.description")}}),o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.parentLoading,expression:"parentLoading"}],staticClass:"pool-wrapper"},[t.isLoggedIn?!t.accountLiquidity.length||t.parentLoading?o("p",{key:"pools-empty",staticClass:"pool-info-container pool-info-container--empty"},[t._v(" "+t._s(t.t("pool.liquidityNotFound"))+" ")]):o("s-collapse",{key:"has-pools",staticClass:"pool-list",attrs:{borders:!0},on:{change:t.updateActiveCollapseItems}},t._l(t.accountLiquidityData,(function(e){return o("s-collapse-item",{key:e.address,staticClass:"pool-info-container",attrs:{name:e.address},scopedSlots:t._u([{key:"title",fn:function(){return[o("pair-token-logo",{attrs:{"first-token":e.firstAsset,"second-token":e.secondAsset,size:"small"}}),o("div",{staticClass:"pool-info-container-block"},[o("h3",{staticClass:"pool-info-container__title"},[t._v(" "+t._s(e.title)+" ")]),t._t("title-append",null,null,{liquidity:e,activeCollapseItems:t.activeCollapseItems})],2)]},proxy:!0}],null,!0)},[o("pool-info",{scopedSlots:t._u([{key:"buttons",fn:function(){return[o("s-button",{staticClass:"s-typography-button--medium",attrs:{type:"secondary"},on:{click:function(o){return t.handleAddLiquidity(e)}}},[t._v(" "+t._s(t.t("pool.addLiquidity"))+" ")]),o("s-button",{staticClass:"s-typography-button--medium",attrs:{type:"secondary"},on:{click:function(o){return t.handleRemoveLiquidity(e)}}},[t._v(" "+t._s(t.t("pool.removeLiquidity"))+" ")])]},proxy:!0}],null,!0)},[o("info-line",{attrs:{"is-formatted":"","value-can-be-hidden":"",label:t.t("pool.pooledToken",{tokenSymbol:e.firstAssetSymbol}),value:e.firstBalanceFormatted,"fiat-value":e.firstBalanceFiat}}),o("info-line",{attrs:{"is-formatted":"","value-can-be-hidden":"",label:t.t("pool.pooledToken",{tokenSymbol:e.secondAssetSymbol}),value:e.secondBalanceFormatted,"fiat-value":e.secondBalanceFiat}}),o("info-line",{attrs:{"value-can-be-hidden":"",label:t.t("pool.poolShare"),value:e.poolShareFormatted}}),e.apyFormatted?o("info-line",{attrs:{label:t.t("pool.strategicBonusApy"),value:e.apyFormatted}}):t._e()],1),t._t("append",null,null,{liquidity:e,activeCollapseItems:t.activeCollapseItems})],2)})),1):o("p",{key:"not-logged",staticClass:"pool-info-container pool-info-container--empty"},[t._v(" "+t._s(t.t("pool.connectToWallet"))+" ")])],1),t.isLoggedIn?o("s-button",{staticClass:"el-button--add-liquidity s-typography-button--large",attrs:{type:"primary"},on:{click:function(e){return t.handleAddLiquidity()}}},[t._v(" "+t._s(t.t("pool.addLiquidity"))+" ")]):o("s-button",{staticClass:"s-typography-button--large",attrs:{type:"primary"},on:{click:t.handleConnectWallet}},[t._v(" "+t._s(t.t("pool.connectWallet"))+" ")])],1)}),[],!1,null,"0ae8f6a2",null).exports}}]);
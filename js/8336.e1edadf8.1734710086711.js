"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[8336,5099,7067],{6996:function(t,e,s){s.r(e),s.d(e,{default:function(){return x}});var r=s(23166),a=s(97582),o=s(37981),i=s(86424),n=s(77606),d=s.n(n),p=s(89445),l=s(89334),u=s(36910),c=s(96520),y=s(49053),h=s(45280);let v=class extends((0,p.Wr)(i.tA.LoadingMixin,l.Z)){constructor(...t){super(...t),(0,r.Z)(this,"subscribeOnReserves",void 0),(0,r.Z)(this,"cleanSwapReservesSubscription",void 0),(0,r.Z)(this,"setFeatureFlags",void 0),(0,r.Z)(this,"txHistoryStoreItem",void 0),(0,r.Z)(this,"updateTxHistoryData",void 0),(0,r.Z)(this,"whitelistArray",void 0),(0,r.Z)(this,"fiatPriceObject",void 0),(0,r.Z)(this,"address",void 0),(0,r.Z)(this,"pricesAreUpdated",void 0),(0,r.Z)(this,"externalHistory",void 0),(0,r.Z)(this,"externalHistoryUpdates",void 0),(0,r.Z)(this,"txHistoryData",void 0),(0,r.Z)(this,"batchTxStatus",void 0),(0,r.Z)(this,"resetExternalHistory",void 0),(0,r.Z)(this,"updateExternalHistory",void 0),(0,r.Z)(this,"currentStageComponentName",void 0),(0,r.Z)(this,"nextStage",void 0),(0,r.Z)(this,"previousStage",void 0),(0,r.Z)(this,"timerId",null)}created(){this.withApi((async()=>{this.subscribeOnReserves(),this.initTimer()}))}beforeDestroy(){this.cleanSwapReservesSubscription(),this.timerId&&clearInterval(this.timerId)}initTimer(){this.timerId=setInterval((()=>{this.pricesAreUpdated&&this.subscribeOnReserves()}),6e4)}get adarDataLoaded(){return!!this.whitelistArray.length&&!d()(this.fiatPriceObject)}get showAdarStats(){return this.component===u.Uc[0].component}get component(){return this.currentStageComponentName}get allowFetchHistory(){return"finalized"===this.txHistoryData?.status&&!this.txHistoryStoreItem}async getHistoryElement(){await this.updateExternalHistory({page:1,address:this.address,query:{operationNames:[o.Operation.SwapTransferBatch]}});const t=this.externalHistory[this.txHistoryData.id];this.updateTxHistoryData(t)}handleTxHistoryItem(t){t&&this.updateTxHistoryData(t)}onStatusChanged(t){t&&(this.resetExternalHistory(),this.getHistoryElement())}};(0,a.gn)([y.aD.routeAssets.subscribeOnReserves],v.prototype,"subscribeOnReserves",void 0),(0,a.gn)([y.aD.routeAssets.cleanSwapReservesSubscription],v.prototype,"cleanSwapReservesSubscription",void 0),(0,a.gn)([y.QF.settings.setFeatureFlags],v.prototype,"setFeatureFlags",void 0),(0,a.gn)([y.Yn.routeAssets.txHistoryStoreItem],v.prototype,"txHistoryStoreItem",void 0),(0,a.gn)([y.QF.routeAssets.updateTxHistoryData],v.prototype,"updateTxHistoryData",void 0),(0,a.gn)([y.SB.wallet.account.whitelistArray],v.prototype,"whitelistArray",void 0),(0,a.gn)([y.SB.wallet.account.fiatPriceObject],v.prototype,"fiatPriceObject",void 0),(0,a.gn)([y.SB.wallet.account.address],v.prototype,"address",void 0),(0,a.gn)([y.Yn.routeAssets.pricesAreUpdated],v.prototype,"pricesAreUpdated",void 0),(0,a.gn)([y.SB.wallet.transactions.externalHistory],v.prototype,"externalHistory",void 0),(0,a.gn)([y.SB.wallet.transactions.externalHistoryUpdates],v.prototype,"externalHistoryUpdates",void 0),(0,a.gn)([y.Yn.routeAssets.txHistoryData],v.prototype,"txHistoryData",void 0),(0,a.gn)([y.Yn.routeAssets.batchTxStatus],v.prototype,"batchTxStatus",void 0),(0,a.gn)([y.QF.wallet.transactions.resetExternalHistory],v.prototype,"resetExternalHistory",void 0),(0,a.gn)([y.aD.wallet.transactions.getExternalHistory],v.prototype,"updateExternalHistory",void 0),(0,a.gn)([y.Yn.routeAssets.currentStageComponentName],v.prototype,"currentStageComponentName",void 0),(0,a.gn)([y.aD.routeAssets.processingNextStage],v.prototype,"nextStage",void 0),(0,a.gn)([y.aD.routeAssets.processingPreviousStage],v.prototype,"previousStage",void 0),(0,a.gn)([(0,p.RL)("txHistoryStoreItem",{deep:!0,immediate:!0})],v.prototype,"handleTxHistoryItem",null),(0,a.gn)([(0,p.RL)("allowFetchHistory")],v.prototype,"onStatusChanged",null),v=(0,a.gn)([(0,p.wA)({components:{Authorize:(0,c.y)(u.EC.RouteAssetsAuthorize),Done:(0,c.y)(u.EC.RouteAssetsDone),ProcessTemplate:(0,c.y)(u.EC.RouteAssetsProcessTemplate),ReviewDetails:(0,c.y)(u.EC.RouteAssetsReviewDetails),Routing:(0,c.y)(u.EC.RouteAssetsRouting),TransactionOverview:(0,c.y)(u.EC.RouteAssetsTransactionOverview),UploadTemplate:(0,c.y)(u.EC.RouteAssetsUploadTemplate),AdarStats:h.default}})],v);var g=v,x=(0,s(1001).Z)(g,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.parentLoading||!t.adarDataLoaded,expression:"parentLoading || !adarDataLoaded"}],staticClass:"route-assets"},[e(t.component,{tag:"component"}),t.showAdarStats?e("adar-stats",{staticClass:"adar-stat-cards"}):t._e()],1)}),[],!1,null,"6981fa96",null).exports}}]);
"use strict";(self.webpackChunkadar=self.webpackChunkadar||[]).push([[7661,2240],{69391:function(e,t,s){s.r(t),s.d(t,{default:function(){return _}});var i=s(60760),a=s(70655),o=s(53545),r=s(8755),l=s(82753),n=s(74614),d=s(36930),c=s(9195),u=s(20923);const m={name:"",wallet:"",asset:l.XOR,amount:0,id:"",usd:0};let p=class extends((0,o.Wr)(r.tA.TransactionMixin,r.tA.DialogMixin,r.tA.FormattedAmountMixin)){constructor(...e){super(...e),(0,i.Z)(this,"editRecipient",void 0),(0,i.Z)(this,"deleteRecipient",void 0),(0,i.Z)(this,"recipient",void 0),(0,i.Z)(this,"currentIssueIdx",void 0),(0,i.Z)(this,"totalIssuesCount",void 0),(0,i.Z)(this,"model",{...m})}resetState(){this.model={...m}}get assetSymbol(){return this.model.asset?.symbol}get amount(){return this.localTokenAmount}get walletError(){return!r.hi.validateAddress(this.model.wallet)}get usdError(){return c.ZP.usd(this.model.usd)?null:"Should be a number"}get amountError(){return c.ZP.amount(this.model.amount)?"":"Token price hasn't been found"}changeIssueIdx(e){const t=this.currentIssueIdx+e;t>=this.totalIssuesCount||t<0||this.$emit("changeIssueIdx",t)}get localTokenAmount(){return(Number(this.model.usd)/Number(this.assetUSDPrice)).toLocaleString("en-US",{maximumFractionDigits:4})}get assetUSDPrice(){return this.model.asset?.address?d.FPNumber.fromCodecValue(this.fiatPriceObject[this.model.asset.address]??0,18).toFixed(8):0}get submitIsDisabled(){return!c.ZP.validate(this.model)}onDeleteClick(){this.deleteRecipient(this.recipient.id)}onSaveClick(){this.editRecipient({name:this.model.name,wallet:this.model.wallet,usd:this.model.usd,id:this.recipient.id,asset:this.model.asset})}onRecipientChanged(e){e?Object.assign(this.model,this.recipient):this.resetState()}};(0,a.__decorate)([n.aD.routeAssets.editRecipient],p.prototype,"editRecipient",void 0),(0,a.__decorate)([n.aD.routeAssets.deleteRecipient],p.prototype,"deleteRecipient",void 0),(0,a.__decorate)([(0,o.fI)()],p.prototype,"recipient",void 0),(0,a.__decorate)([(0,o.fI)()],p.prototype,"currentIssueIdx",void 0),(0,a.__decorate)([(0,o.fI)()],p.prototype,"totalIssuesCount",void 0),(0,a.__decorate)([(0,o.RL)("recipient",{immediate:!0,deep:!0})],p.prototype,"onRecipientChanged",null),p=(0,a.__decorate)([(0,o.wA)({components:{DialogBase:r.wx.DialogBase,TokenLogo:r.wx.TokenLogo,WarningMessage:u.default}})],p);var v=p,h=(0,s(1001).Z)(v,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fix-issues-dialog"},[s("dialog-base",{attrs:{visible:e.isVisible,title:"Fix or remove issues","custom-class":"dialog__fix-issues"},on:{"update:visible":function(t){e.isVisible=t}}},[s("div",{staticClass:"issues-iterator"},[s("button",{on:{click:function(t){return e.changeIssueIdx(-1)}}},[s("s-icon",{staticClass:"icon-status",attrs:{name:"chevron-left-16"}})],1),s("div",[e._v(e._s("Issue "+(e.currentIssueIdx+1)+"/"+e.totalIssuesCount))]),s("button",{on:{click:function(t){return e.changeIssueIdx(1)}}},[s("s-icon",{staticClass:"icon-status",attrs:{name:"chevron-right-16"}})],1)]),s("s-form",{staticClass:"kyc-form",attrs:{model:e.model}},[s("s-form-item",{attrs:{prop:"name"}},[s("s-input",{attrs:{placeholder:"Recipient"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),s("s-form-item",{attrs:{prop:"wallet"}},[s("s-input",{attrs:{placeholder:"Wallet"},model:{value:e.model.wallet,callback:function(t){e.$set(e.model,"wallet",t)},expression:"model.wallet"}}),s("div",{staticClass:"error-message",class:e.walletError?"error-message_invalid":"error-message_valid"},[s("div",[e._v(e._s("wallet ADDRESS "+(e.walletError?"incorrect":"correct")))]),s("div",[s("s-icon",{staticClass:"icon-status",attrs:{name:e.walletError?"basic-clear-X-xs-24":"basic-check-marks-24"}})],1)])],1),s("s-form-item",{attrs:{prop:"usd"}},[s("s-input",{attrs:{placeholder:"USD"},model:{value:e.model.usd,callback:function(t){e.$set(e.model,"usd",t)},expression:"model.usd"}}),s("div",{staticClass:"error-message",class:e.usdError?"error-message_invalid":"error-message_valid"},[s("div",[e._v(e._s("USD number is "+(e.usdError?"incorrect":"correct")))]),s("div",[s("s-icon",{staticClass:"icon-status",attrs:{name:e.usdError?"basic-clear-X-xs-24":"basic-check-marks-24"}})],1)])],1)],1),s("div",{staticClass:"field"},[s("p",{staticClass:"field__label"},[e._v(e._s("ASSET"))]),s("div",{staticClass:"field__status"},[s("div",[e._v(e._s(e.assetSymbol))]),s("div",[s("token-logo",{staticClass:"token-logo",attrs:{token:e.model.asset}})],1)])]),s("s-divider"),s("div",{staticClass:"field"},[s("p",{staticClass:"field__label"},[e._v(e._s("estimated amount"))]),s("div",{staticClass:"field__status"},[s("div",[e._v(e._s(e.amount))]),s("div",[e._v(e._s(e.assetSymbol))]),s("div",[s("token-logo",{staticClass:"token-logo",attrs:{token:e.model.asset}})],1)]),e.amountError?s("warning-message",{staticClass:"warning-message",attrs:{text:e.amountError,isError:e.amountError}}):e._e()],1),s("s-divider"),s("s-button",{staticClass:"s-typography-button--big browse-button",attrs:{type:"primary",disabled:e.submitIsDisabled},on:{click:function(t){return t.stopPropagation(),e.onSaveClick.apply(null,arguments)}}},[e._v(" "+e._s("Fix issue")+" ")]),s("s-button",{staticClass:"s-typography-button--big browse-button",attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.onDeleteClick.apply(null,arguments)}}},[e._v(" "+e._s("Delete recipient")+" ")])],1)],1)}),[],!1,null,"21a22cd5",null),_=h.exports}}]);